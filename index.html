<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="💼 직장 생활, 혹시 '내 생각'에 갇혀 힘든 건 아닐까요? 이 테스트로 사실과 해석을 구분하는 능력을 키워보세요! 동료, 상사, 고객과의 관계가 술술 풀릴 거예요." name="description"/>
<meta content="사실과 해석, 직장 내 소통, 감정 관리, 대인 관계, 스트레스 해소, 인지 오류, 직장인 심리 테스트, 커뮤니케이션 능력, 공감 능력, 자기 계발, 인터넷 가입, 고객 상담, 협력업체" name="keywords"/>
<meta content="공감 컨설팅" name="author"/>
<title>💼 직장인 마음 정리 스킬 UP! - 사실 vs 해석 구분 테스트</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<style>
/* 더 나은 텍스트 줄 바꿈을 위한 규칙 추가 */
.mol-result-summary__description,
.org-result-details__title, /* 결과 화면의 질문 텍스트 */
.org-result-details__explanation,
.mol-strategy-card li,
.mol-tip-box li,
.mol-modal-content p,
.mol-modal-content li,
.mol-modal-content .example-box, /* 예시 박스 안의 텍스트 */
.mol-modal-content blockquote p,
#intro-card .intro-text p {
  overflow-wrap: break-word; /* 단어가 너무 길 경우 줄바꿈 허용 */
  word-break: keep-all; /* 한국어의 경우, 단어 단위(띄어쓰기)로 줄바꿈 (권장) */
                         /* 만약 keep-all을 사용해도 매우 좁은 컨테이너에서 긴 '단어' 때문에 오버플로우가 발생한다면, */
                         /* word-break: break-word; 사용을 고려하세요. */
}

/* keep-all이 특정 상황에서 너무 제한적일 경우를 대비한 강제 줄바꿈. */
/* 이 규칙이 단어를 너무 자주 부자연스럽게 자른다면 좀 더 선택적으로 적용해야 합니다. */
/* 예를 들어, @media (max-width: 768px) 블록 내부나 더 좁은 화면 조건에만 적용하세요. */
@media (max-width: 480px) { /* 매우 좁은 화면을 위한 예시 */
  .mol-result-summary__description,
  .org-result-details__title,
  .org-result-details__explanation,
  .mol-strategy-card li,
  .mol-tip-box li,
  .mol-modal-content p,
  .mol-modal-content li {
    word-break: break-word; /* 필요하다면 매우 작은 화면에서 더 적극적인 단어 줄바꿈 적용 */
  }
}

/* 이미지나 다른 임베디드 콘텐츠가 컨테이너를 벗어나지 않도록 합니다. */
img, video, iframe {
  max-width: 100%;
  height: auto;
}
:root {
  --color-primary: #3B82F6; 
  --color-primary-dark: #2563EB;
  --color-primary-light: #BFDBFE;
  --color-primary-lighter: #EFF6FF;
  --color-accent: #10B981; 
  --color-accent-dark: #059669;
  --color-accent-light: #A7F3D0;
  --color-background: #F9FAFB; 
  --color-surface: #FFFFFF;
  --color-border: #E5E7EB;
  --color-border-light: #F3F4F6;
  --color-text-primary: #1F2937; 
  --color-text-secondary: #4B5563;
  --color-text-light: #6B7280;
  --color-text-on-primary: #FFFFFF;
  --color-text-disabled: #9CA3AF;
  --color-success-bg: #ECFDF5;
  --color-success-text: #065F46;
  --color-success-border: #6EE7B7;
  --color-warning-bg: #FFFBEB;
  --color-warning-text: #92400E;
  --color-warning-border: #FCD34D;
  --color-danger-bg: #FEF2F2;
  --color-danger-text: #991B1B;
  --color-danger-border: #FCA5A5;
  --color-info-bg: #EFF6FF;
  --color-info-text: #1E40AF;
  --color-info-border: #93C5FD;

  --font-family-base: 'Noto Sans KR', sans-serif;
  --font-size-base: 16px;
  --font-size-sm: 14px;
  --font-size-xs: 12px;
  --font-size-md: 18px;
  --font-size-lg: 22px;
  --font-size-xl: 28px;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --line-height-base: 1.7; 
  --line-height-heading: 1.4;

  --space-unit: 4px;
  --space-xs: calc(var(--space-unit) * 2);
  --space-sm: calc(var(--space-unit) * 3);
  --space-md: calc(var(--space-unit) * 4);
  --space-lg: calc(var(--space-unit) * 6);
  --space-xl: calc(var(--space-unit) * 8);
  --space-xxl: calc(var(--space-unit) * 12);

  --border-radius-base: 12px;
  --border-radius-sm: 6px;
  --border-radius-lg: 16px;
  --border-radius-pill: 50px;

  --shadow-soft: 0 2px 8px rgba(0,0,0,0.04);
  --shadow-medium: 0 4px 12px rgba(0,0,0,0.06);
  --shadow-strong: 0 6px 18px rgba(0,0,0,0.08);

  --transition-duration: 0.25s;
  --transition-timing-function: ease-in-out;

  --fixed-header-height: 60px;
  --bottom-nav-height-actual: 68px;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; font-size: 100%; }
body {
  font-family: var(--font-family-base); font-size: var(--font-size-base);
  font-weight: var(--font-weight-regular); line-height: var(--line-height-base);
  color: var(--color-text-primary); background-color: var(--color-background);
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  min-height: 100vh; display: flex; flex-direction: column;
  padding-top: 0;
}
body.fixed-header-active {
    padding-top: var(--fixed-header-height);
}

main { flex-grow: 1; }
.layout-container { width: 100%; max-width: 800px; margin: 0 auto; padding: var(--space-md); }

.page-header {
  background-color: var(--color-primary-lighter); padding: var(--space-xl) var(--space-md);
  margin-bottom: 0;
  border-bottom: 1px solid var(--color-border);
  text-align: center;
}
.page-header__title {
  font-size: var(--font-size-xl); font-weight: var(--font-weight-bold);
  color: var(--color-primary); margin-bottom: var(--space-sm);
  display: flex; align-items: center; justify-content: center; gap: var(--space-sm);
}
.page-header__title .emoji { font-size: 2rem; }
.page-header__description {
  font-size: var(--font-size-md); max-width: 700px; margin-left: auto; margin-right: auto;
  color: var(--color-text-secondary); line-height: 1.8;
}
.page-header__description br.mobile-only { display: none; }

.sticky-steps-indicator-wrapper {
  position: sticky; top: 0; left: 0; width: 100%;
  background-color: rgba(255,255,255,0.95);
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  padding: var(--space-sm) 0;
  z-index: 999;
  box-shadow: var(--shadow-medium);
  height: var(--fixed-header-height);
  display: none;
  align-items: center;
}
.sticky-steps-indicator-wrapper.visible { display: flex; }
.steps-indicator {
  display: flex; justify-content: space-around; position: relative;
  margin: 0 auto; padding: 0 var(--space-md); max-width: 800px; width: 100%;
}
.steps-indicator::before {
  content: ''; position: absolute; top: 15px; left: 10%; width: 80%; height: 2px;
  background-color: var(--color-border-light); z-index: 1;
}
.step {
  position: relative; z-index: 2; display: flex; flex-direction: column;
  align-items: center; text-align: center; flex: 1; max-width: 120px;
}
.step-icon {
  width: 32px; height: 32px; border-radius: 50%;
  background-color: var(--color-surface); border: 2px solid var(--color-border);
  display: flex; align-items: center; justify-content: center;
  font-weight: var(--font-weight-semibold); margin-bottom: var(--space-xs);
  transition: all var(--transition-duration) var(--transition-timing-function);
  box-shadow: var(--shadow-soft); color: var(--color-text-light);
}
.step.active .step-icon {
  background-color: var(--color-primary); color: var(--color-text-on-primary);
  border-color: var(--color-primary-dark); transform: scale(1.15); box-shadow: var(--shadow-medium);
}
.step.completed .step-icon {
  background-color: var(--color-accent-dark); border-color: var(--color-accent);
  color: var(--color-surface);
}
.step.completed .step-icon::after { content: '✓'; font-size: 1.2em; }
.step-label {
  font-size: var(--font-size-sm); color: var(--color-text-light);
  transition: all var(--transition-duration) var(--transition-timing-function);
  line-height: 1.4; word-break: keep-all;
}
.step.active .step-label { color: var(--color-primary-dark); font-weight: var(--font-weight-semibold); }
.step.completed .step-label { color: var(--color-accent-dark); font-weight: var(--font-weight-medium); }

.atm-card {
  background-color: var(--color-surface); border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-medium);
  margin-bottom: var(--space-xl);
  border: 1px solid var(--color-border-light);
  overflow: hidden;
  opacity: 0;
  transform: translateY(20px);
}
.atm-card.visible {
    opacity: 1;
    transform: translateY(0);
}
.atm-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-strong);
}
.atm-card__header {
  padding: var(--space-lg);
  border-bottom: 1px solid var(--color-border-light);
  display: flex; justify-content: space-between; align-items: center;
  background-color: var(--color-primary-lighter);
}
.atm-card__title {
  font-size: var(--font-size-md); font-weight: var(--font-weight-semibold);
  color: var(--color-primary-dark);
  margin: 0;
  display: flex; align-items: center; gap: var(--space-sm);
}
.atm-card__title .icon { font-size: 1.2em; }
.atm-card__body { padding: var(--space-lg); }

/* 형광펜 효과 제거 또는 변경 */
#intro-card .intro-text .highlight,
.mol-result-summary__description .highlight,
.mol-strategy-card li .highlight,
.mol-tip-box li .highlight,
.mol-modal-content .highlight {
  padding: 0; 
  border-radius: 0; 
  font-weight: var(--font-weight-semibold); 
  box-shadow: none; 
  border-bottom: 2px solid var(--color-accent-light); 
  background-color: transparent; /* 명시적으로 배경색 제거 */
  color: inherit; /* 기본 텍스트 색상 상속 */
}

#intro-card .intro-text .strong-text {
  font-weight: var(--font-weight-semibold);
  position: relative;
  display: inline-block;
  padding: 0 2px;
  color: var(--color-primary-dark);
}
#intro-card .intro-text .strong-text::after {
  content: ''; position: absolute; bottom: 2px; left: 0;
  width: 100%; height: 8px; opacity: 0.3; 
  z-index: -1;
  border-radius: var(--border-radius-sm); 
  background-color: transparent; 
}

#intro-card .intro-text p { margin-bottom: var(--space-md); line-height: 1.8; }
#intro-card .info-box {
  background-color: var(--color-primary-lighter);
  border-radius: var(--border-radius-lg);
  padding: var(--space-lg);
  margin-top: var(--space-lg);
  border: 1px solid var(--color-primary-light);
  border-left: 5px solid var(--color-primary);
  box-shadow: var(--shadow-soft);
}
#intro-card .info-box h3 {
    font-size: var(--font-size-md); font-weight: var(--font-weight-semibold);
    color: var(--color-primary-dark); margin-bottom: var(--space-sm);
    display: flex; align-items: center; gap: var(--space-xs);
}
#intro-card .info-box h3 .icon { font-size: 1.2em; color: var(--color-primary); }
#intro-card .info-box ul { list-style-type: none; padding-left: 0; margin-top: var(--space-sm);}
#intro-card .info-box li {
    margin-bottom: var(--space-sm); 
    padding-left: calc(var(--space-sm) + 5px); 
    position: relative;
    line-height: 1.7;
}
#intro-card .info-box li::before { 
    content: '\f00c'; 
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
    color: var(--color-accent); 
    position: absolute;
    left: 0;
    top: 4px; 
    font-size: 0.9em;
}

.atm-button {
  display: inline-flex; align-items: center; justify-content: center;
  padding: var(--space-sm) var(--space-lg); border-radius: var(--border-radius-pill);
  font-family: inherit; font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-base); line-height: 1.5; text-align: center;
  text-decoration: none; white-space: nowrap; cursor: pointer; user-select: none;
  border: 1px solid transparent; background-image: none;
  transition: all var(--transition-duration) var(--transition-timing-function);
  min-height: 48px;
  box-shadow: var(--shadow-soft);
}
.atm-button:hover:not(:disabled) { transform: translateY(-2px); box-shadow: var(--shadow-medium); }
.atm-button:active:not(:disabled) { transform: translateY(0px); box-shadow: var(--shadow-soft); }
.atm-button:focus-visible { outline: 3px solid var(--color-primary-light); outline-offset: 2px; }
.atm-button:disabled, .atm-button.is-disabled { opacity: 0.6; cursor: not-allowed; box-shadow: none; transform: none; }
.atm-button--primary { background-color: var(--color-primary); color: var(--color-text-on-primary); border-color: var(--color-primary); }
.atm-button--primary:hover:not(:disabled) { background-color: var(--color-primary-dark); border-color: var(--color-primary-dark); }
.atm-button--secondary { background-color: var(--color-surface); color: var(--color-primary); border: 1px solid var(--color-primary-light); }
.atm-button--secondary:hover:not(:disabled) { background-color: var(--color-primary-lighter); border-color: var(--color-primary); color: var(--color-primary-dark); }
.atm-button--accent { background-color: var(--color-accent); color: var(--color-text-on-primary); border-color: var(--color-accent); }
.atm-button--accent:hover:not(:disabled) { background-color: var(--color-accent-dark); border-color: var(--color-accent-dark); }
.atm-button--text {
  background-color: transparent; color: var(--color-primary); border: 1px solid transparent;
  font-size: var(--font-size-sm); padding: var(--space-xs) var(--space-sm); box-shadow: none;
}
.atm-button--text:hover:not(:disabled) { color: var(--color-primary-dark); background-color: var(--color-primary-lighter); border-color: var(--color-primary-light); transform: none; }
.atm-button--lg { font-size: var(--font-size-md); padding: var(--space-md) var(--space-xl); min-height: 52px; }
.atm-button .icon { margin-right: var(--space-xs); font-size: 0.9em; }
.atm-button .icon-after { margin-left: var(--space-xs); margin-right: 0; }

.u-display-block { display: block !important; }
.u-margin-center { margin-left: auto; margin-right: auto; }
.u-margin-bottom-md { margin-bottom: var(--space-md) !important; }
.u-margin-top-lg { margin-top: var(--space-lg) !important; }
.u-color-primary { color: var(--color-primary) !important; }

.comp-privacy-notice {
  font-size: var(--font-size-sm); color: var(--color-text-light); text-align: center;
  margin-top: var(--space-lg); padding: var(--space-sm);
  background-color: var(--color-primary-lighter); border-radius: var(--border-radius-base);
  line-height: 1.6; border: 1px solid var(--color-border-light);
}

#progress-container { margin: var(--space-lg) 0; }
.mol-progress-bar {
  height: 12px; width: 100%; background: var(--color-primary-lighter);
  border-radius: var(--border-radius-pill); margin-bottom: var(--space-xs);
  overflow: hidden; border: 1px solid var(--color-border);
}
.mol-progress-bar__inner {
  height: 100%; width: 0%; background: var(--color-primary);
  border-radius: var(--border-radius-pill); transition: width 0.4s ease;
}
.mol-progress-bar__text { text-align: right; font-size: var(--font-size-sm); color: var(--color-text-light); }

.mol-question-item { display: none; animation: fadeInCard 0.5s ease-out; }
.mol-question-item.is-active { display: block; }
@keyframes fadeInCard { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.mol-question-item__header { display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md); }
.atm-question-number {
  display: flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; background-color: var(--color-primary);
  color: white; font-weight: var(--font-weight-bold); border-radius: 50%;
  flex-shrink: 0; box-shadow: var(--shadow-soft); font-size: var(--font-size-base);
}
.mol-question-item__title {
  font-size: var(--font-size-md); font-weight: var(--font-weight-medium);
  color: var(--color-text-primary); flex-grow: 1; margin: 0; line-height: 1.6;
}
.mol-question-item p { margin-bottom: var(--space-md); font-size: var(--font-size-base); color: var(--color-text-secondary); }
.mol-option-group { display: flex; gap: var(--space-md); margin: var(--space-lg) 0; justify-content: center; }
.mol-option-group__item { flex: 1; max-width: 200px; }
.atm-option-label {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  padding: var(--space-lg);
  border: 2px solid var(--color-border);
  border-radius: var(--border-radius-lg); cursor: pointer;
  transition: all var(--transition-duration) var(--transition-timing-function); text-align: center;
  height: 100%; background-color: var(--color-surface);
}
.atm-option-emoji { font-size: 36px; margin-bottom: var(--space-sm); line-height: 1; }
.atm-option-label:hover {
  background-color: var(--color-primary-lighter); border-color: var(--color-primary-light);
  transform: translateY(-3px) scale(1.02); box-shadow: var(--shadow-medium);
}
input[type="radio"] { display: none; }
input[type="radio"]:checked + .atm-option-label {
  background-color: var(--color-primary-light); border-color: var(--color-primary);
  box-shadow: 0 0 0 4px var(--color-primary-lighter), var(--shadow-medium); transform: scale(1.05);
  color: var(--color-primary-dark);
}
input[type="radio"]:focus-visible + .atm-option-label {
    outline: 3px solid var(--color-primary); outline-offset: 3px;
}
.atm-option-label__description {
  font-size: var(--font-size-base);
  text-align: center; color: var(--color-text-light);
  font-weight: var(--font-weight-medium);
}
input[type="radio"]:checked + .atm-option-label .atm-option-label__description {
    color: var(--color-primary-dark); font-weight: var(--font-weight-semibold);
}

.mol-navigation-buttons {
    display: flex; justify-content: space-between; align-items: center;
    margin-top: var(--space-xl); width: 100%;
}
.mol-navigation-buttons .atm-button { flex-grow: 0; }
.mol-navigation-buttons.justify-start .atm-button:not(:last-child),
.mol-navigation-buttons.justify-center .atm-button:not(:last-child) { margin-right: var(--space-md); }
.mol-navigation-buttons.justify-end .atm-button:not(:first-child) { margin-left: var(--space-md); }
.mol-navigation-buttons.justify-start .atm-button,
.mol-navigation-buttons.justify-end .atm-button,
.mol-navigation-buttons.justify-center .atm-button {
    flex-grow: 0; min-width: 120px; max-width: 250px;
}

.org-result-container { display: none; padding: var(--space-md); animation: fadeInCard 0.5s ease-out; }
.section__header { text-align: center; margin-bottom: var(--space-lg); }
.section__title { font-size: var(--font-size-xl); font-weight: var(--font-weight-bold); margin-bottom: var(--space-md); }
.section__subtitle { font-size: var(--font-size-md); color: var(--color-text-secondary); }
.mol-result-summary {
  padding: var(--space-lg); border-radius: var(--border-radius-lg);
  margin-bottom: var(--space-xl); box-shadow: var(--shadow-medium);
  border-left: 6px solid;
}
.mol-result-summary--good { background-color: var(--color-success-bg); border-left-color: var(--color-success-border); }
.mol-result-summary--good .mol-result-summary__level, .mol-result-summary--good .mol-result-summary__percentage { color: var(--color-success-text); }
.mol-result-summary--moderate { background-color: var(--color-warning-bg); border-left-color: var(--color-warning-border); }
.mol-result-summary--moderate .mol-result-summary__level, .mol-result-summary--moderate .mol-result-summary__percentage { color: var(--color-warning-text); }
.mol-result-summary--danger { background-color: var(--color-danger-bg); border-left-color: var(--color-danger-border); }
.mol-result-summary--danger .mol-result-summary__level, .mol-result-summary--danger .mol-result-summary__percentage { color: var(--color-danger-text); }

.mol-result-summary__level {
  display: flex; align-items: center; gap: var(--space-sm);
  font-size: var(--font-size-lg); font-weight: var(--font-weight-bold);
  margin-bottom: var(--space-md);
}
.mol-result-summary__percentage {
  font-size: 32px; font-weight: var(--font-weight-bold);
  margin: var(--space-sm) 0 var(--space-md); text-align: center;
}
.mol-result-summary__score-text {
    text-align: center; font-size: var(--font-size-base); color: var(--color-text-secondary);
    margin-bottom: var(--space-md);
}
.mol-result-summary__description {
  font-size: var(--font-size-base); line-height: 1.8;
  margin-bottom: var(--space-md); color: var(--color-text-secondary);
}
.org-result-details__item {
  background-color: var(--color-surface);
  border-radius: var(--border-radius-base);
  padding: var(--space-lg);
  margin-bottom: var(--space-lg);
  border: 1px solid var(--color-border-light);
  box-shadow: var(--shadow-soft);
}
.org-result-details__title {
  font-weight: var(--font-weight-semibold); margin-bottom: var(--space-md);
  color: var(--color-text-primary); line-height: 1.6; font-size: var(--font-size-base);
}
.org-result-details__answer-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-sm); }
.atm-answer-badge {
  padding: 6px 14px; border-radius: var(--border-radius-pill);
  font-size: var(--font-size-xs); font-weight: var(--font-weight-bold);
}
.atm-answer-badge--correct { background-color: var(--color-success-bg); color: var(--color-success-text); border: 1px solid var(--color-success-border); }
.atm-answer-badge--incorrect { background-color: var(--color-danger-bg); color: var(--color-danger-text); border: 1px solid var(--color-danger-border); }
.org-result-details__explanation {
  font-size: var(--font-size-sm); color: var(--color-text-secondary);
  margin-top: var(--space-md); line-height: 1.7;
  background-color: var(--color-primary-lighter);
  padding: var(--space-sm); border-radius: var(--border-radius-sm); border-left: 3px solid var(--color-primary);
}
.atm-answer-info { display: flex; gap: var(--space-xs); font-size: var(--font-size-sm); color: var(--color-text-light); }

.mol-strategy-card {
  background-color: var(--color-surface); border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-medium); padding: var(--space-lg); margin-bottom: var(--space-lg);
  border: 1px solid var(--color-border-light); border-left: 5px solid var(--color-primary);
}
.mol-strategy-card__title {
  font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold);
  color: var(--color-primary-dark); margin-bottom: var(--space-md);
  display: flex; align-items: center; gap: var(--space-sm);
}
.mol-strategy-card__title .icon { font-size: 1.1em; color: var(--color-primary); }
.mol-strategy-card ol { list-style-type: none; counter-reset: step; padding-left: 0; }
.mol-strategy-card li {
  position: relative; padding-left: 40px;
  margin-bottom: var(--space-md); counter-increment: step; line-height: 1.8;
  color: var(--color-text-secondary); font-size: var(--font-size-base);
}
.mol-strategy-card li::before {
  content: counter(step);
  position: absolute; left: 0; top: 0;
  font-weight: bold; color: var(--color-text-on-primary);
  font-size: 1em; background-color: var(--color-primary);
  width: 28px; height: 28px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  box-shadow: var(--shadow-soft);
}
.mol-strategy-card li strong { color: var(--color-text-primary); font-weight: var(--font-weight-semibold); }

.reflection-area { margin-top: var(--space-xl); }
.reflection-area label {
    display: block; font-weight: var(--font-weight-semibold);
    color: var(--color-primary-dark); margin-bottom: var(--space-md);
    font-size: var(--font-size-md);
    display: flex; align-items: center; gap: var(--space-xs);
}
.reflection-area label .icon { font-size: 1.1em; color: var(--color-primary); }
.reflection-area textarea {
    width: 100%; min-height: 120px; padding: var(--space-md);
    border: 1px solid var(--color-border); border-radius: var(--border-radius-base);
    font-family: var(--font-family-base); font-size: var(--font-size-base);
    resize: vertical; line-height: 1.7; box-shadow: var(--shadow-soft);
}
.reflection-area textarea:focus {
    outline-color: var(--color-primary);
    box-shadow: 0 0 0 3px var(--color-primary-lighter), var(--shadow-medium);
    border-color: var(--color-primary);
}
.reflection-area p.help-text {
    font-size: var(--font-size-sm); color: var(--color-text-light);
    margin-top: var(--space-sm); line-height: 1.6;
}

.mol-tip-box {
  background: var(--color-info-bg); border-radius: var(--border-radius-lg);
  padding: var(--space-lg); margin-bottom: var(--space-lg);
  border-left: 5px solid var(--color-info-border); box-shadow: var(--shadow-soft);
}
.mol-tip-box__title {
  font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold);
  color: var(--color-info-text); margin-bottom: var(--space-md);
  display: flex; align-items: center; gap: var(--space-sm);
}
.mol-tip-box__title .icon { font-size: 1.1em; color: var(--color-info-text); }
.mol-tip-box ul { list-style-type: none; padding-left: 0; margin-top: var(--space-sm); }
.mol-tip-box li {
    margin-bottom: var(--space-sm); font-size: var(--font-size-base);
    padding-left: calc(var(--space-sm) + 5px); 
    position: relative;
    line-height: 1.7;
}
.mol-tip-box li::before { 
    content: '\f0eb'; 
    font-family: 'Font Awesome 6 Free';
    font-weight: 900;
    color: var(--color-info-text); 
    position: absolute;
    left: 0;
    top: 4px; 
    font-size: 0.9em;
}

.atm-toast-notification {
  position: fixed; bottom: -100px; left: 50%; transform: translateX(-50%);
  background: var(--color-text-primary); color: var(--color-surface);
  padding: var(--space-md) var(--space-lg); border-radius: var(--border-radius-pill);
  box-shadow: var(--shadow-strong); z-index: 10000;
  opacity: 0; visibility: hidden; transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
  font-size: var(--font-size-base);
}
.atm-toast-notification.is-active { opacity: 1; visibility: visible; bottom: 40px; }
.atm-toast-notification.is-error { background-color: var(--color-danger-text); }
.atm-toast-notification.is-success { background-color: var(--color-accent-dark); }

.mol-share-buttons { display: flex; gap: var(--space-md); margin-top: var(--space-md); justify-content: center; }

.org-modal-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background-color: rgba(31, 41, 55, 0.7); 
  display: none; justify-content: center; align-items: center;
  z-index: 10000; opacity: 0; visibility: hidden;
  transition: opacity var(--transition-duration) var(--transition-timing-function);
}
.org-modal-overlay.is-active { opacity: 1; visibility: visible; display: flex; }
.mol-modal-container {
  background-color: var(--color-surface); border-radius: var(--border-radius-lg);
  width: 90%; max-width: 700px; max-height: 90vh; overflow: hidden;
  box-shadow: var(--shadow-strong); display: flex; flex-direction: column;
  transform: scale(0.95) translateY(-20px);
  transition: transform var(--transition-duration) var(--transition-timing-function),
              opacity var(--transition-duration) var(--transition-timing-function);
  opacity: 0;
}
.org-modal-overlay.is-active .mol-modal-container { transform: scale(1) translateY(0); opacity: 1; }
.mol-modal-header {
  padding: var(--space-md) var(--space-lg); border-bottom: 1px solid var(--color-border);
  display: flex; justify-content: space-between; align-items: center;
  background-color: var(--color-primary-lighter); position: sticky; top: 0; z-index: 1;
}
.mol-modal-header__title {
  font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold);
  color: var(--color-primary-dark); margin: 0;
  display: flex; align-items: center; gap: var(--space-xs);
}
.mol-modal-header__title .icon { font-size: 1.1em; color: var(--color-primary); }
.atm-modal-close-button {
  background: none; border: none; color: var(--color-text-light);
  font-size: 1.8rem; line-height: 1; padding: var(--space-xs); border-radius: 50%;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; transition: all var(--transition-duration);
}
.atm-modal-close-button:hover, .atm-modal-close-button:focus-visible {
  background-color: var(--color-border-light); color: var(--color-text-primary);
}
.mol-modal-content { padding: var(--space-lg); overflow-y: auto; flex-grow: 1; }
.mol-modal-content h2 {
    font-size: var(--font-size-md); color: var(--color-primary-dark);
    margin-top: var(--space-lg); margin-bottom: var(--space-sm);
    font-weight: var(--font-weight-semibold);
}
.mol-modal-content h2:first-child { margin-top: 0; }
.mol-modal-content ul { list-style-type: none; padding-left: 0; }
.mol-modal-content ul li {
    position: relative; padding-left: var(--space-lg);
    margin-bottom: var(--space-sm); line-height: 1.7;
}
.mol-modal-content ul li::before {
    content: '\f058'; 
    font-family: 'Font Awesome 6 Free';
    font-weight: 900; 
    position: absolute; left: 0; top: 4px;
    color: var(--color-accent); font-size: 0.9em; 
}
.mol-modal-content .example-box {
    background-color: var(--color-primary-lighter);
    padding: var(--space-md);
    border-radius: var(--border-radius-base);
    margin: var(--space-md) 0 var(--space-lg);
    border-left: 4px solid var(--color-primary);
    box-shadow: var(--shadow-soft);
}
.mol-modal-content .example-box strong { color: var(--color-primary-dark); font-weight: var(--font-weight-semibold); }
.mol-modal-content table { width: 100%; border-collapse: collapse; margin: var(--space-md) 0; font-size: var(--font-size-sm); }
.mol-modal-content th, .mol-modal-content td { border: 1px solid var(--color-border); padding: var(--space-sm); text-align: left; }
.mol-modal-content th { background-color: var(--color-primary-lighter); color: var(--color-primary-dark); font-weight: var(--font-weight-semibold); }



.inspirational-quote {
  margin: var(--space-xl) 0;
  padding: var(--space-lg);
  background-color: var(--color-primary-lighter);
  border-left: 5px solid var(--color-primary);
  border-radius: var(--border-radius-sm);
  font-style: italic;
  color: var(--color-text-secondary);
  text-align: center;
}
.inspirational-quote p { margin-bottom: var(--space-sm); font-size: var(--font-size-base); }
.inspirational-quote footer {
  font-style: normal;
  font-size: var(--font-size-sm);
  color: var(--color-text-light);
  font-weight: var(--font-weight-medium);
}

@media (max-width: 768px) {
  body {
    padding-bottom: calc(var(--bottom-nav-height-actual) + var(--space-lg));
  }
  .page-header__title { font-size: var(--font-size-lg); }
  .page-header__description { font-size: var(--font-size-base); }
  .page-header__description br.mobile-only { display: block; }

  .sticky-steps-indicator-wrapper { height: auto; padding: var(--space-xs) 0; }
  .steps-indicator::before { top: 12px; left: 5%; width: 90%; }
  .step-icon { width: 28px; height: 28px; font-size: var(--font-size-sm); }
  .step-label { font-size: 10px; max-width: 70px; }
  .step-label small { display: none; }


  .mol-navigation-buttons {
    position: fixed; bottom: 0; left: 0; right: 0;
    background-color: var(--color-surface);
    padding: var(--space-sm) var(--space-md);
    box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
    z-index: 100; border-top: 1px solid var(--color-border-light);
    margin-top: 0;
  }
  .mol-navigation-buttons .atm-button { flex-grow: 1; margin: 0 var(--space-xs); }
  .mol-navigation-buttons .atm-button:first-child { margin-left: 0; }
  .mol-navigation-buttons .atm-button:last-child { margin-right: 0; }

  .atm-toast-notification.is-active {
    bottom: calc(var(--bottom-nav-height-actual) + var(--space-md));
  }

  .mol-option-group { flex-direction: column; }
  .mol-option-group__item { max-width: 100%; }
  .atm-option-label { padding: var(--space-md); }
  .atm-option-emoji { font-size: 32px; }
  .atm-option-label__description { font-size: var(--font-size-sm); }
  .mol-question-item__title { font-size: var(--font-size-base); line-height: 1.5; }
  .mol-question-item p { font-size: var(--font-size-sm); margin-bottom: var(--space-sm); }
  .mol-option-group { margin: var(--space-md) 0; gap: var(--space-sm); }

  .mol-modal-content { padding: var(--space-md); }
  .mol-modal-header__title { font-size: var(--font-size-md); }
}

.table-responsive { width: 100%; overflow-x: auto; margin: var(--space-md) 0; }
.mol-modal-content .table-responsive table { width: 100%; border-collapse: collapse; }

 /* 1. 가장 바깥쪽 콘텐츠 영역: 화면 가장자리 최소 여백 설정 */
  .layout-container {
    padding-left: 10px !important; /* 현재 파일에 적용된 값 유지 또는 5px~10px 사이로 조절 */
    padding-right: 10px !important;
  }

  /* 2. 소개 카드(#intro-card) 내부 여백: 이 너비를 결과 화면의 기준으로 삼습니다. */
  #intro-card .atm-card__body {
    padding-left: 12px !important; /* 현재 파일에 적용된 값 유지 또는 10px~15px 사이로 조절 */
    padding-right: 12px !important;
    padding-top: var(--space-md) !important;
    padding-bottom: var(--space-md) !important;
    border: none !important; /* 혹시 있을 수 있는 테두리 제거 */
    box-shadow: none !important; /* 그림자 제거 */
  }
  #intro-card .info-box { /* 소개 카드 내 정보 박스도 유사하게 */
    padding-left: 12px !important;
    padding-right: 12px !important;
    border-left: none !important; /* 왼쪽 파란색 줄 제거 */
    box-shadow: none !important;
    background-color: var(--color-primary-lighter) !important; /* 배경색은 유지 */
  }


  /* --- 결과 화면(#result-card-overall) 너비 확장 --- */
  /* 3. 결과 카드 전체의 내부 여백: 소개 카드와 동일하게 맞춥니다. */
  #result-card-overall .atm-card__body {
    padding-left: 12px !important; /* 소개 카드와 동일한 좌우 여백 */
    padding-right: 12px !important;
    padding-top: var(--space-md) !important;
    padding-bottom: var(--space-md) !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* 4. 결과 캡처 영역(#result-capture-area): 이 영역 자체의 추가적인 좌우 여백을 제거합니다. */
  #result-capture-area {
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-top: var(--space-sm) !important; /* 상하 최소 여백 */
    padding-bottom: var(--space-sm) !important;
  }

  /* 5. 개별 결과 항목(.org-result-details__item): 내부 좌우 여백 제거, 배경 투명화로 넓어보이게 */
  .org-result-details__item {
    padding-left: 0 !important;   /* 이 항목 자체의 좌우 여백은 0으로 */
    padding-right: 0 !important;
    padding-top: var(--space-md) !important;
    padding-bottom: var(--space-md) !important;
    border: none !important;      /* 테두리 완전 제거 */
    box-shadow: none !important;
    border-radius: 0 !important;
    background-color: transparent !important; /* 배경을 투명하게 하여 부모 배경과 이어지도록 */
  }
  /* 개별 결과 항목들 사이에 구분선 추가 */
  .org-result-details__item:not(:last-child) {
    border-bottom: 1px solid var(--color-border-light) !important;
  }
  /* 개별 결과 항목 내 설명 박스(.org-result-details__explanation)도 좌우 여백 조정 */
  .org-result-details__explanation {
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: var(--space-sm) !important; /* 설명 박스 자체는 약간의 패딩 유지 */
    padding-right: var(--space-sm) !important;
    border-left: 3px solid var(--color-primary) !important; /* 왼쪽 강조선은 유지 */
  }


  /* 6. 결과 요약 박스(.mol-result-summary): 좌우 여백 및 테두리 조정 */
  .mol-result-summary {
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-top: var(--space-md) !important;
    padding-bottom: var(--space-md) !important;
    border-left: none !important; /* 왼쪽 두꺼운 테두리 제거 */
    border-right: none !important;
    border-top: none !important; /* 상단 테두리 제거 또는 얇은 선으로 대체 */
    border-bottom: 1px solid var(--color-border-light) !important; /* 하단 구분선 */
    box-shadow: none !important;
    border-radius: 0 !important;
    margin-left: 0 !important; /* 혹시 모를 좌우 마진 제거 */
    margin-right: 0 !important;
  }

  /* 7. 기타 전략/팁 박스들도 유사하게 좌우 여백/테두리 제거 */
  .mol-strategy-card,
  .mol-tip-box {
    padding-left: 0 !important;
    padding-right: 0 !important;
    border-left: none !important;
    border-right: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    background-color: transparent !important; /* 배경 투명화 */
  }
  .mol-strategy-card:not(:last-child), /* 구분선 추가 */
  .mol-tip-box:not(:last-child) {
    border-bottom: 1px solid var(--color-border-light) !important;
  }
  /* 내부 리스트 항목의 왼쪽 숫자/아이콘을 위한 공간은 유지 */
  .mol-strategy-card li { padding-left: 40px !important; } /* 기존 값 유지 또는 약간 조정 */
  .mol-tip-box li { padding-left: calc(var(--space-sm) + 5px) !important; } /* 기존 값 유지 또는 약간 조정 */


  /* 8. 성찰 영역(.reflection-area) textarea도 화면 폭에 맞게 */
  .reflection-area {
    padding-left: 0 !important;
    padding-right: 0 !important;
    border: none !important;
    box-shadow: none !important;
  }
  .reflection-area textarea {
    width: 100% !important;
    box-sizing: border-box !important;
  }


  /* --- 공유 버튼 문제 해결 --- */
  .mol-share-buttons {
    display: flex !important;
    flex-direction: column !important; /* 버튼들을 세로로 쌓음 */
    gap: var(--space-sm) !important;   /* 버튼 사이의 수직 간격 */
    align-items: stretch !important; /* 버튼들이 컨테이너 너비를 꽉 채우도록 함 */
    margin-top: var(--space-md) !important;
  }

  .mol-share-buttons .atm-button,
  #restart-btn { /* 테스트 다시하기 버튼도 동일하게 적용 */
    width: 100% !important;          /* 각 버튼이 가로로 꽉 차도록 */
    margin-left: 0 !important;
    margin-right: 0 !important;
    box-sizing: border-box !important; /* 패딩과 테두리를 너비에 포함 */
    white-space: normal !important; /* 버튼 내 텍스트가 길 경우 줄바꿈 허용 */
  }


  /* --- 필수: 텍스트 줄 바꿈 및 전체 설정 --- */
  /* (이전에 제공된 내용과 유사하나, !important 추가 및 선택자 보강) */
  .mol-result-summary__description,
  .org-result-details__title,
  .org-result-details__explanation p, /* 설명 박스 내 p 태그 명시 */
  .mol-strategy-card li,
  .mol-tip-box li,
  .mol-modal-content p,
  .mol-modal-content li,
  .mol-modal-content .example-box,
  .mol-modal-content blockquote p,
  #intro-card .intro-text p,
  .page-header__description {
    overflow-wrap: break-word !important;
    word-break: keep-all !important; /* 한국어는 단어 단위 줄 바꿈 */
  }

  @media (max-width: 480px) { /* 더 좁은 화면에서의 예외 처리 */
    .mol-result-summary__description,
    .org-result-details__title,
    .org-result-details__explanation p,
    .mol-strategy-card li,
    .mol-tip-box li,
    .mol-modal-content p,
    .mol-modal-content li {
      word-break: break-word !important; /* 필요시 글자 단위 줄바꿈 */
    }
  }

  img, video, iframe {
    max-width: 100%;
    height: auto;
  }

  *, *::before, *::after {
    box-sizing: border-box !important;
  }

} /* @media (max-width: 768px) 닫는 괄호 */

@media (min-width: 601px) {
  .mol-modal-content .table-responsive th,
  .mol-modal-content .table-responsive td { white-space: nowrap; }
}
@media (max-width: 600px) {
  .mol-modal-content .table-responsive th,
  .mol-modal-content .table-responsive td { white-space: normal; }
}

#start-btn { font-size: 1.1rem; padding: var(--space-md) var(--space-lg); } 
#prev-btn, #next-btn { font-size: 1.1rem; padding: var(--space-md) var(--space-lg); } 


</style>
</head>
<body>
<header class="page-header" id="pageHeader">
    <h1 class="page-header__title"><span class="emoji">💼</span> 직장인 마음 정리 스킬 UP!</h1>
    <p class="page-header__description">
        혹시 직장에서 '나만 왜 이렇게 힘들지?' 생각한 적 있나요? <br class="mobile-only"/>
        어쩌면 그건 '진짜 일어난 일'이 아니라 '내 생각' 때문일지도 몰라요!
    </p>
</header>

<div class="sticky-steps-indicator-wrapper" id="stickyStepsIndicatorWrapper">
    <div class="steps-indicator">
      <div class="step active" id="step-indicator-0">
        <div class="step-icon">1</div>
        <div class="step-label">테스트 안내</div>
      </div>
      <div class="step" id="step-indicator-1">
        <div class="step-icon">2</div>
        <div class="step-label">테스트 진행</div>
      </div>
      <div class="step" id="step-indicator-2">
        <div class="step-icon">3</div>
        <div class="step-label">결과와 조언</div>
      </div>
    </div>
  </div>

<main class="layout-container">
    <section class="atm-card visible" id="intro-card">
        <header class="atm-card__header">
            <h2 class="atm-card__title"><i class="fas fa-glasses icon"></i> '진짜 일어난 일' vs '내 머릿속 생각' 구분하기</h2>
            <button class="atm-button atm-button--text atm-button--sm" id="learn-more-btn">
                <i class="fas fa-info-circle icon"></i> 이게 왜 중요할까요?
            </button>
        </header>
        <div class="atm-card__body">
            <div class="intro-text">
                <p><span class="strong-text">직장 생활, 매일매일이 드라마 같죠?</span> 😅<br/>
                "팀장님이 내 보고서만 대충 보시는 것 같아... <span class="highlight">나한테 실망하셨나?</span>"<br/>
                "고객이 전화를 빨리 끊었어. <span class="highlight">내 설명이 별로였나 봐.</span>"<br/>
                "동료가 회의 때 내 의견에 아무 말 안 했어. <span class="highlight">나를 무시하는 건가?</span>"
                </p>
                <p>이런 생각들 때문에 밤잠 설치고, 괜히 동료나 고객에게 쌀쌀맞게 대한 적, 혹시 없으세요? <br/>
                마치 <span class="highlight">고슴도치</span>처럼 서로에게 다가가고 싶지만, 가시 때문에 망설이는 것처럼요. 🦔</p>
                <p>특히 감정이 <span class="strong-text">버럭!</span> 하고 올라올 때, 우리 뇌의 <span class="highlight">'이성 스위치(전전두엽)'</span>는 잠시 꺼지고 <span class="highlight">'감정 엔진(편도체)'</span>만 쌩쌩 돌아가기 쉬워요. 그럼 눈앞의 상황도 제대로 보이지 않죠.</p>
                <p class="u-margin-top-md">이 테스트는 바로 그 <span class="strong-text">'진짜 일어난 일(사실)'</span>과 <span class="strong-text">'그 일에 대한 내 생각(해석)'</span>을 구분하는 연습을 도와줄 거예요. 마치 운전면허 필기시험처럼요! 이 능력만 조금 키워도, 직장 생활이 훨씬 편해질 수 있답니다. 😊</p>

                <div class="info-box u-margin-top-lg">
                    <h3><i class="fas fa-gift icon"></i> 이 테스트를 통해 얻을 수 있는 선물!</h3>
                    <ul>
                        <li>내 감정이 진짜 어디서 시작됐는지 알게 돼요. (감정의 뿌리 찾기!)</li>
                        <li>상황을 좀 더 <span class="highlight">또렷하게</span> 볼 수 있는 안경을 얻게 돼요. (객관성 UP!)</li>
                        <li>동료, 상사, 고객과의 관계에서 <span class="highlight">오해는 줄이고, 이해는 넓힐</span> 수 있어요.</li>
                        <li>괜한 감정싸움에 에너지 낭비하지 않게 돼요. (스트레스 DOWN!)</li>
                        <li>결국, <span class="highlight">더 건강하고 행복한 직장 생활</span>에 한 걸음 다가갈 수 있어요!</li>
                    </ul>
                </div>
                <p class="u-margin-top-md u-color-text-light" style="text-align: center;"><i class="fas fa-clock"></i> 예상 소요시간: 약 5~7분 (20문항)</p>
            </div>
            <button class="atm-button atm-button--primary atm-button--lg u-display-block u-margin-center" id="start-btn">
                테스트 시작하기 <i class="fas fa-arrow-right icon icon-after"></i>
            </button>
            <div class="comp-privacy-notice">
                🔒 안심하세요! 여러분의 답변은 어디에도 저장되거나 전송되지 않아요.<br/>오직 여러분 자신을 위한 시간이니, 편하게 테스트해보세요. 😊
            </div>
        </div>
    </section>

    <div id="progress-container" style="display: none;">
        <div class="mol-progress-bar">
            <div class="mol-progress-bar__inner" id="progress-bar"></div>
        </div>
        <p class="mol-progress-bar__text" id="progress-text" aria-live="polite">1/20</p>
    </div>

    <section class="atm-card" id="question-card" style="display: none;">
        <div class="atm-card__body" id="question-area">
            <!-- 질문 내용이 여기에 동적으로 삽입됩니다. -->
        </div>
    </section>

    <div class="mol-navigation-buttons" id="navigation-buttons-container" style="display: none;">
        <button class="atm-button atm-button--secondary" id="prev-btn">
            <i class="fas fa-arrow-left icon"></i> 이전
        </button>
        <button class="atm-button atm-button--primary" id="next-btn">
            다음 <i class="fas fa-arrow-right icon icon-after"></i>
        </button>
    </div>


    <section class="atm-card" id="result-card-overall" style="display: none;">
        <header class="atm-card__header">
            <h2 class="atm-card__title"><i class="fas fa-chart-pie icon"></i> 나의 직장 소통 스타일 분석!</h2>
        </header>
        <div class="atm-card__body">
          <div id="result-capture-area">
            <div class="org-result-container" id="result-container">
                <header class="section__header">
                    <h1 class="section__title u-color-primary">사실 vs 해석 구분 능력 테스트 결과</h1>
                    <p class="section__subtitle">직장 생활, 당신의 마음은 '진짜 일어난 일'에 얼마나 귀 기울이고 있나요?</p>
                </header>

                <div class="mol-result-summary mol-result-summary--good" id="result-good" style="display: none;">
                    <h3 class="mol-result-summary__level"><span class="emoji" style="font-size: 1.2em;">🟢</span> 프로 소통러! 사실과 해석을 잘 구분해요!</h3>
                    <p class="mol-result-summary__percentage" id="good-percentage"></p>
                    <p class="mol-result-summary__score-text" id="good-score-text"></p>
                    <p class="mol-result-summary__description">
                        와! 정말 대단해요! 🎉<br/>당신은 마치 <span class="highlight">마음의 CCTV</span>를 가진 것처럼, 직장에서 일어난 일과 그에 대한 생각을 명확히 구분하는 능력이 뛰어나시네요.
                        예를 들어, 고객이 "좀 더 생각해볼게요"라고 말해도, '아, 이건 거절이 아니라 정말 시간이 필요한 거구나' 하고 <span class="strong-text">침착하게 상황을 판단</span>할 줄 아시는군요!
                        이런 능력 덕분에 동료나 상사, 고객과의 관계에서 불필요한 오해 없이 매끄럽게 소통하고, 스트레스도 훨씬 덜 받으실 거예요. 앞으로도 이 멋진 능력을 쭉 유지해주세요!
                    </p>
                </div>

                <div class="mol-result-summary mol-result-summary--moderate" id="result-moderate" style="display: none;">
                    <h3 class="mol-result-summary__level"><span class="emoji" style="font-size: 1.2em;">🟠</span> 맑다가도 흐림! 가끔 내 생각에 빠질 때가 있어요</h3>
                    <p class="mol-result-summary__percentage" id="moderate-percentage"></p>
                    <p class="mol-result-summary__score-text" id="moderate-score-text"></p>
                    <p class="mol-result-summary__description">
                        괜찮아요! 평소에는 "아, 이건 내 생각이구나" 하고 잘 구분하시지만, <span class="highlight">업무가 몰리거나 감정이 격해질 때</span>는 조금 헷갈리시는 것 같아요. 😊
                        마치 <span class="strong-text">안개가 살짝 낀 날처럼</span>, 때때로 사실과 내 생각의 경계가 흐릿하게 느껴질 수 있어요.
                        특히 상사가 무표정하게 "수고했어요"라고 말할 때, '혹시 내가 뭘 잘못했나?' 하고 혼자 걱정할 수 있죠. 하지만 괜찮아요! 아래 조언들을 조금만 연습하시면, 안개를 걷어내고 더 명확하게 상황을 보실 수 있을 거예요!
                    </p>
                </div>

                <div class="mol-result-summary mol-result-summary--danger" id="result-danger" style="display: none;">
                    <h3 class="mol-result-summary__level"><span class="emoji" style="font-size: 1.2em;">🔴</span> 마음의 안경, 도수 조절이 필요해요!</h3>
                    <p class="mol-result-summary__percentage" id="danger-percentage"></p>
                    <p class="mol-result-summary__score-text" id="danger-score-text"></p>
                    <p class="mol-result-summary__description">
                        먼저, 이 테스트를 하신 것만으로도 정말 큰 용기를 내신 거예요! 😊<br/>혹시 직장 생활에서 "내가 너무 예민한가?", "왜 나만 이렇게 힘들지?" 하고 자주 느끼셨나요?
                        마치 <span class="highlight">나침반이 고장 난 배처럼</span>, 어디로 가야 할지, 뭐가 맞는 건지 방향을 잡기 어려웠을 수 있어요.
                        하지만 중요한 건, 이 능력은 <span class="strong-text">연습을 통해 분명히 좋아질 수 있다</span>는 거예요! 아래 방법들을 천천히 따라 해보시면, 마음의 안경 도수를 맞춘 것처럼 직장 생활이 훨씬 편안해지고, 관계를 보는 시야도 넓어질 거예요. 혼자가 아니니 걱정 마세요!
                    </p>
                </div>

                 <div class="inspirational-quote">
                    <p>"우리를 힘들게 하는 것은 일어난 사건 그 자체가 아니라, 그 사건에 대한 우리의 생각이다."</p>
                    <footer>- 에픽테토스 (옛날 똑똑한 철학자 아저씨)</footer>
                </div>


                <div id="results-details" class="u-margin-top-lg">
                    <h3 class="u-color-primary u-margin-bottom-md" style="text-align:center; font-size: var(--font-size-lg);">📝 문항별 정답 다시보기</h3>
                    <div id="result-items-container"></div>
                </div>


                <div class="mol-strategy-card u-margin-top-lg">
                    <h3 class="mol-strategy-card__title"><i class="fas fa-brain icon"></i> 🧠 마음 정리 스킬 UP! - '잠깐! 이건 뭐지?' 훈련</h3>
                    <p style="margin-bottom: var(--space-md); font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                        직장에서 속상하거나 화나는 일이 생겼을 때, 바로 반응하기 전에 이 4단계를 떠올려보세요. 마치 요리 레시피처럼요!
                    </p>
                    <ol>
                        <li><strong>멈추기 (Stop ✋)</strong>: 감정이 확 올라올 때, 일단 <span class="highlight">"잠깐!"</span> 하고 멈춰 서세요. 심호흡 한 번 크게! (예: 팀장님이 정색하고 "이거 다시 해와요."라고 할 때, 바로 울컥하지 말고 일단 멈춤!)</li>
                        <li><strong>살펴보기 (Think 🤔)</strong>: "지금 <span class="highlight">진짜 일어난 일</span>이 뭐지? CCTV에 찍혔다면 뭐라고 나올까?" 감정을 쏙 빼고 사실만 보세요. (예: "팀장님이 보고서를 돌려주면서 '다시 하세요'라고 말했다." 이게 사실!)</li>
                        <li><strong>다른 가능성 찾기 (Options 💡)</strong>: "혹시 <span class="highlight">내가 모르는 다른 이유</span>가 있을까? 내가 생각한 것 말고 다른 해석은 없을까?" 하고 여러 각도에서 생각해보세요. (예: "팀장님이 오늘 컨디션이 안 좋으신가? 아니면 내가 중요한 부분을 빼먹었나? 아니면 그냥 원래 말투가 좀 단호하신 편인가?")</li>
                        <li><strong>나아가기 (Proceed ✅)</strong>: 여러 가능성을 생각해봤다면, 이제 <span class="highlight">가장 현실적이고 도움 되는 생각</span>을 선택하고 행동하세요. (예: "일단 뭐가 문제인지 정확히 여쭤보고 수정하자. 너무 개인적으로 받아들이지 말자.")</li>
                    </ol>
                </div>

                <div class="mol-tip-box u-margin-top-lg">
                    <h3 class="mol-tip-box__title"><i class="fas fa-user-friends icon"></i> 직장 내 흔한 '오해 안경' 벗기!</h3>
                    <p>혹시 이런 '오해 안경'을 쓰고 세상을 보고 있진 않나요?</p>
                    <ul style="margin-top: var(--space-sm);">
                        <li><strong>상사가 내 보고서를 꼼꼼히 본다.</strong> → <span class="highlight">나를 못 믿어서 트집 잡으려는 걸까?</span> (오해 안경👓) / <span class="strong-text">내 성장을 위해 더 신경 써주시는 걸 수도 있어! 👍</span> (긍정 안경✨)</li>
                        <li><strong>동료가 회의 때 내 의견에 반대했다.</strong> → <span class="highlight">나를 싫어하나? 내 의견은 항상 별로인가?</span> (오해 안경👓) / <span class="strong-text">더 좋은 결과를 위해 다른 각도에서 생각해주는구나! 고맙네. 🤔</span> (긍정 안경✨)</li>
                        <li><strong>고객이 제품 가격을 묻고는 바로 끊었다.</strong> → <span class="highlight">우리 제품이 너무 비싸서 가망 없나 봐.</span> (오해 안경👓) / <span class="strong-text">지금은 바쁘시거나, 여러 곳 비교 중일 수 있어. 다음에 다시 연락드려볼까? 📞</span> (긍정 안경✨)</li>
                        <li><strong>내가 실수했을 때 팀장님이 아무 말 안 하신다.</strong> → <span class="highlight">나한테 엄청 실망해서 포기하셨나 봐. 😭</span> (오해 안경👓) / <span class="strong-text">스스로 깨닫고 해결하길 기다려주시는 걸 수도 있어. 아니면 나중에 따로 말씀하시려나? 🧐</span> (긍정 안경✨)</li>
                    </ul>
                    <p class="u-margin-top-md">이런 '오해 안경'은 나도 모르게 쓰고 있을 때가 많아요. <span class="strong-text">"어? 혹시 나 지금 오해 안경 썼나?"</span> 하고 자주 점검해보는 게 중요해요!</p>
                </div>

                <div class="reflection-area">
                    <label for="reflection-input"><i class="fas fa-feather-alt icon"></i> 나의 다짐 한마디 (나만 볼 수 있어요!) </label>
                    <textarea id="reflection-input" rows="5" placeholder="테스트를 통해 새롭게 알게 된 점이나, 앞으로 '이것만은 꼭 해봐야지!' 하는 다짐을 자유롭게 적어보세요. 글로 적으면 실천할 힘이 더 강해진대요! (이 내용은 저장되지 않아요)"></textarea>
                    <p class="help-text">이곳에 적은 내용은 페이지를 벗어나면 사라집니다. 개인적인 성찰 용도로 활용해보세요.</p>
                </div>
            </div>
            <div class="u-text-center u-margin-top-lg">
                <div class="mol-share-buttons">
                    
                    <button class="atm-button atm-button--secondary" id="copy-link-btn">
                        <i class="fas fa-link icon"></i> 테스트 링크 복사
                    </button>
                </div>
                <button class="atm-button atm-button--primary u-display-block u-margin-center" id="restart-btn" style="margin-top: var(--space-md); margin-bottom: var(--space-md);">
                  <i class="fas fa-redo-alt icon"></i> 테스트 다시하기
                </button>
                <p style="text-align:center; color: var(--color-text-light); font-size: var(--font-size-sm); margin-top: var(--space-md);">
                  ※ 이 테스트는 스스로를 돌아보는 거울과 같아요. 병원 진단이나 전문 상담을 대신할 수는 없어요. <br/>만약 마음이 많이 힘들다면 전문가의 도움을 받는 것이 가장 좋아요. 😊
                </p>
            </div>
          </div>
        </div>
    </section>
</main>

<div class="atm-toast-notification" id="toast-notification" role="alert" aria-live="assertive"></div>

<div class="org-modal-overlay" id="modal-overlay">
    <div class="mol-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title-id">
        <header class="mol-modal-header">
            <h3 class="mol-modal-header__title" id="modal-title-id"><i class="fas fa-book-open icon"></i> '사실'과 '해석' 구분, 왜 중요할까요?</h3>
            <button class="atm-modal-close-button" id="modal-close" aria-label="닫기"><i class="fas fa-times"></i></button>
        </header>
        <div class="mol-modal-content">
            <div style="font-size: 18px; color: var(--color-primary); font-weight: 500; text-align: center; margin: var(--space-lg) 0; line-height: 1.6;">
                <p>❝직장에서 나를 힘들게 하는 건<br/> 어쩌면 <span class="highlight">'진짜 일어난 일'</span>이 아니라,<br/> 그 일에 대한 <span class="highlight">'나의 생각'</span>일 수 있어요.❞</p>
            </div>
            <div class="u-margin-bottom-lg">
                <h2>🤔 왜 '사실'과 '해석'을 구분해야 할까요?</h2>
                <p>직장 생활하다 보면 이런 생각들, 한 번쯤 해보셨죠?<br/>
                   😵‍💫 <strong>"팀장님 표정이 안 좋은데... 혹시 내가 뭐 잘못했나?"</strong> (팀장님 표정 안 좋음 = 사실 / 내가 잘못함 = 해석)<br/>
                   🤔 <strong>"고객이 내 설명에 시큰둥하네. 우리 제품 별로인가 봐."</strong> (고객 반응 시큰둥 = 사실 / 제품 별로임 = 해석)<br/>
                </p>
                <p>특히 스트레스 받거나 감정이 격해지면, 우리 뇌는 <span class="highlight">'사실 필터'</span>가 고장나기 쉬워요. 그래서 객관적인 '사실'과 주관적인 '해석'을 구분하는 연습이 필요해요. 마치 운동처럼요!</p>
                <div class="example-box">
                    <strong>✨ '사실'과 '해석'을 잘 구분하면 이런 점이 좋아요!</strong>
                    <ul>
                        <li>내 감정에 휘둘리지 않고 <span class="strong-text">차분하게 대처</span>할 수 있어요.</li>
                        <li>상황을 <span class="strong-text">있는 그대로</span> 볼 수 있어서 오해가 줄어요.</li>
                        <li>상대방의 말이나 행동에 <span class="strong-text">상처를 덜 받아요.</span> (튼튼한 마음 방패 장착!)</li>
                        <li>결국, 직장 생활의 <span class="strong-text">스트레스가 줄고, 일도 더 잘 풀려요!</span></li>
                    </ul>
                </div>
            </div>
            <div class="u-margin-bottom-lg">
                <h2>📜 옛날 똑똑한 사람들도 다 그랬대요!</h2>
                <p>수많은 똑똑한 사람들이 옛날부터 강조했어요:</p>
                <ul>
                    <li>🧘‍♀️ <strong>불교</strong>: "모든 건 마음이 만들어내는 거야 (일체유심조 一切唯心造)."</li>
                    <li>🏛️ <strong>스토아 철학자 에픽테토스</strong>: "우리를 괴롭히는 건 사건 그 자체가 아니라, 사건에 대한 우리 생각이야." (이 아저씨 말 또 나왔죠? 그만큼 중요하단 뜻!)</li>
                    <li>🔬 <strong>인지행동치료(CBT)</strong>: "우리의 생각(인지)이 감정과 행동에 엄청 큰 영향을 미친대." (병원에서도 쓰는 방법!)</li>
                </ul>
                <p>그러니까, '진짜 일어난 일'과 '내 머릿속 생각'을 구분하는 건 마음 건강을 위한 아주 중요한 기술이에요!</p>
            </div>
            <div class="u-margin-bottom-lg">
                <h2>📹 사실 vs. 💭 해석, 쉽게 구분하는 법!</h2>
                <p><strong>'사실'이란?</strong> (마치 CCTV에 찍히는 것처럼, 누가 봐도 "응, 그랬어" 할 수 있는 것)</p>
                <ul>
                    <li>눈에 보이거나 귀에 들리는 구체적인 행동이나 말 (예: "팀장님이 회의에서 '이 프로젝트는 다음 주까지 마무리합시다'라고 말했다.")</li>
                    <li>숫자로 표현할 수 있거나 정확히 잴 수 있는 것 (예: "고객이 3번 연속으로 전화를 받지 않았다.")</li>
                    <li>감정이나 판단이 쏙 빠진, 건조한 정보 (예: "동료가 오늘 아침 인사를 하지 않았다.")</li>
                </ul>
                <p><strong>'해석'이란?</strong> (내 마음이 만들어낸 의미, 사람마다 다르게 생각할 수 있는 것)</p>
                <ul>
                    <li>'사실'에 대한 나의 생각, 판단, 추측, 평가 (예: "팀장님은 나를 못 믿어서 저렇게 말씀하시는 거야.")</li>
                    <li>감정적인 반응 (예: "고객이 전화를 안 받아서 불안하다." → 불안함을 느낀 건 사실이지만, 그 이유가 '나를 피해서'라고 단정하면 해석!)</li>
                    <li>상대방의 의도나 마음을 내 맘대로 짐작하는 것 (예: "동료가 인사를 안 한 건 나를 무시하는 게 틀림없어.")</li>
                    <li>'항상', '절대', '맨날', '틀림없이' 같은 극단적인 말 (예: "나는 항상 실수만 해.")</li>
                </ul>
                 <div class="example-box">
                    <p><strong>예시) 동료가 내 부탁을 거절했을 때</strong></p>
                    <p><strong>사실:</strong> "동료에게 A 업무 지원을 요청했는데, 동료가 '미안하지만 지금 다른 급한 일이 있어서 어렵겠다'고 말했다."</p>
                    <p><strong>해석 1 (부정적):</strong> "나랑 일하기 싫어서 핑계 대는 거야. 나를 도와주기 싫은 게 분명해." (속상함, 서운함)</p>
                    <p><strong>해석 2 (중립적/긍정적):</strong> "정말 바쁜가 보다. 다른 동료에게 물어보거나, 내가 할 수 있는 방법을 찾아봐야겠다." (이해, 문제 해결 모드)</p>
                    <p><strong>해석 3 (자기 비난적):</strong> "내가 너무 어려운 부탁을 했나? 내가 평소에 잘 못 해서 그런가?" (죄책감, 자존감 하락)</p>
                    <p>➡️ 똑같은 '사실'이라도 어떻게 '해석'하느냐에 따라 내 기분과 다음 행동이 완전히 달라지죠?</p>
                </div>
            </div>
            <div class="u-margin-bottom-lg">
                <h2>📊 테스트 결과, 어떻게 봐야 할까요?</h2>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr><th>점수 (정답률)</th><th>나의 상태</th><th>한 줄 조언 (토닥토닥)</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>15-20점 (75-100%)</td><td>🟢 프로 소통러</td><td>"와우! 직장 생활 만렙! 지금처럼만 하시면 돼요! 👍"</td></tr>
                            <tr><td>10-14점 (50-74%)</td><td>🟠 맑다가도 흐림</td><td>"괜찮아요! 가끔 감정의 안개가 낄 뿐, 조금만 연습하면 맑아져요! 😊"</td></tr>
                            <tr><td>0-9점 (0-49%)</td><td>🔴 마음 안경 도수 조절</td><td>"혼자 너무 애쓰지 마세요! 작은 연습부터 시작하면 분명 달라져요! 🤗"</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="u-margin-bottom-lg">
                <h2>🎭 직장에서 자주 만나는 '해석 함정' 피하기!</h2>
                <p>상사나 동료, 고객이 이런 말을 할 때, '이게 진짜 사실일까, 아니면 저 사람의 해석(또는 나를 힘들게 하려는 의도)일까?' 하고 잠깐 멈춰 생각해보세요:</p>
                <ul>
                    <li><strong>"김 대리, 일 처리가 너무 느린 거 아니야?"</strong> (사실: 특정 업무 처리 시간이 기대보다 길었음 / 그의 해석: 김 대리는 원래 일 처리가 느림 → 혹시 내가 모르는 다른 이유가 있었을 수도?)</li>
                    <li><strong>"이건 상식 아니에요?" (고객이 화내며)</strong> (사실: 고객이 특정 정보를 모르고 있음 / 그의 해석: 이건 누구나 아는 상식임 → 고객 입장에선 답답할 수 있지만, 내가 모르는 게 당연할 수도!)</li>
                    <li><strong>"너는 항상 그런 식으로 문제를 일으키더라."</strong> (사실: 과거에 비슷한 실수를 몇 번 함 / 그의 해석: 너는 변하지 않는 문제아임 → 과도한 일반화! 사람은 변하고 성장할 수 있음!)</li>
                    <li><strong>"다른 팀원들은 다 괜찮다고 하던데?"</strong> (사실: 그가 그렇게 말함 / 그의 해석: 모두가 동의하는 객관적 사실임 → 정말 모두에게 확인한 걸까? 내 의견도 중요함!)</li>
                </ul>
                <p>이런 말들에 바로 <span class="strong-text">'네, 제가 잘못했습니다'</span> 하거나 <span class="strong-text">'왜 나한테만 그래요!'</span> 하고 감정적으로 반응하기 전에, <span class="highlight">'잠깐! 이건 사실일까, 해석일까?'</span> 필터를 한번 돌려보세요!</p>
            </div>
            <div class="u-margin-bottom-lg">
                <p style="text-align: center; font-weight: var(--font-weight-medium); color: var(--color-primary-dark);">이 테스트가 여러분의 직장 생활에 작은 '쉼표'와 '느낌표'를 선물하길 바랍니다! 💚</p>
                <blockquote style="border-left: 4px solid var(--color-accent-light); padding: var(--space-md); background-color: var(--color-accent-lighter); border-radius: var(--border-radius-sm); text-align:center;">
                    <p>💬 <strong>"상황은 바꿀 수 없어도, 내 생각은 내가 선택할 수 있어요!"</strong></p>
                </blockquote>
            </div>
            <div class="comp-privacy-notice" style="background: transparent; border: none; padding: 0;">
                이 테스트의 모든 응답과 결과는 여러분의 기기에만 저장돼요. 안심하고 자신을 돌아보는 시간을 가져보세요.
            </div>
        </div>
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const allQuestionsData = [
       // --- 업무 능력 및 성과 평가 관련 ---
    {
        id: 1,
        text: `입사 동기인 박 대리는 보고서를 항상 마감일보다 하루 일찍 제출한다. 그는 나보다 훨씬 유능하고 일 처리가 빠른 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'보고서를 하루 일찍 제출한다'는 것은 관찰 가능한 사실이지만, 그것이 '훨씬 유능하고 빠르다'는 직접적인 증거는 아닙니다. 업무의 난이도, 다른 업무와의 병행 여부, 개인의 업무 스타일 등 여러 변수가 존재하므로 '유능하다'는 평가는 상대적인 해석입니다.`
    },
    {
        id: 2,
        text: `신입사원인 이 사원은 내가 30분 걸려 해결한 오류를 10분 만에 처리했다. 그는 나보다 IT 기술에 대한 이해도가 훨씬 높은 인재다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'내가 30분 걸린 일을 10분 만에 처리했다'는 사실이지만, '이해도가 훨씬 높다'고 단정하는 것은 해석입니다. 우연히 그가 아는 문제였거나, 최근에 관련 교육을 받았을 수 있습니다. 단 한 번의 사건으로 전체적인 능력의 우위를 판단하는 것은 섣부른 일반화입니다.`
    },
    {
        id: 3,
        text: `김 과장님은 발표할 때마다 항상 청중을 압도하는 유머와 재치있는 답변을 한다. 그는 타고난 발표 전문가다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'유머와 재치있는 답변을 한다'는 사실에 가깝지만, '타고난 전문가'라는 평가는 해석입니다. 수많은 연습과 실패를 통해 얻어진 능력일 수 있습니다. '타고났다'고 규정하는 순간, 나의 노력 가능성을 차단하는 고정관념이 될 수 있습니다.`
    },
    {
        id: 4,
        text: `우리 팀은 올해 목표치의 150%를 초과 달성했다. 우리 팀은 회사 내에서 가장 뛰어난 팀이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'목표치의 150%를 달성했다'는 사실이지만, '가장 뛰어난 팀'이라는 평가는 해석입니다. 다른 팀의 목표치 난이도나 시장 상황 등 여러 요소를 고려하지 않은 상대적인 평가입니다. '뛰어나다'는 기준은 절대적이지 않습니다.`
    },
    {
        id: 5,
        text: `옆 팀 프로젝트는 이번 분기에 큰 손실을 기록했다. 그 팀의 팀장은 리더십에 심각한 문제가 있는 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'프로젝트가 손실을 기록했다'는 사실일 수 있지만, 그 원인을 '팀장의 리더십 문제'로 단정하는 것은 해석입니다. 예측 불가능한 시장 변화, 회사의 지원 부족 등 외부 요인이 더 크게 작용했을 수 있습니다.`
    },
    {
        id: 6,
        text: `최 대리는 중요한 프레젠테이션에서 말을 더듬고 긴장하는 모습을 보였다. 그는 큰 프로젝트를 맡기에는 역량이 부족하다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'발표 시 긴장하는 모습을 보였다'는 사실이지만, 그것이 '역량 부족'을 의미하지는 않습니다. 내용에 대한 책임감이 클수록 더 긴장할 수 있습니다. 발표 능력과 업무 역량은 별개의 문제일 수 있습니다.`
    },
    {
        id: 7,
        text: `이번 인사평가에서 나는 팀 내 평균보다 낮은 등급을 받았다. 나는 이 팀에서 필요한 존재가 아니다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'평균보다 낮은 등급을 받았다'는 사실이지만, '필요한 존재가 아니다'라는 생각은 극단적인 해석입니다. 평가는 상대적이며, 이번 평가 기간의 특정 성과에 대한 결과일 뿐, 나의 존재 가치 전체를 의미하지는 않습니다.`
    },
    {
        id: 8,
        text: `팀장님은 내가 제출한 기획안에 대해 "이 부분은 좀 더 논리적으로 다듬어야겠네요" 라고 코멘트했다. 내 기획안은 전체적으로 수준 미달이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'특정 부분을 다듬어야 한다'는 피드백은 사실이지만, '전체적으로 수준 미달'이라는 결론은 과도한 확대 해석입니다. 부분적인 보완 요청을 전체에 대한 부정으로 받아들이는 것은 대표적인 인식의 오류입니다.`
    },
    {
        id: 9,
        text: `경력직으로 입사한 정 과장은 입사 3개월 만에 대형 계약을 성사시켰다. 역시 경력은 무시할 수 없는 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'3개월 만에 계약을 성사시켰다'는 사실이지만, 그 이유를 '경력' 하나로 단정하는 것은 섣부른 해석입니다. 운, 타이밍, 이전 회사에서의 인연 등 다양한 요인이 결합된 결과일 수 있습니다. `
    },
    {
        id: 10,
        text: `이번 분기 우리 팀의 핵심 성과 지표(KPI)는 전 분기 대비 10% 하락했다.`,
        correctAnswer: "O",
        explanation: `<strong>정답: O (사실)</strong><br/>'KPI가 10% 하락했다'는 것은 구체적인 수치로 표현되는 객관적인 데이터입니다. 여기에 '성과가 나빠졌다' 또는 '팀원들이 해이해졌다'는 판단이 더해지면 해석이 됩니다.`
    },

    // --- 지위, 연봉, 소유물 관련 ---
    {
        id: 11,
        text: `나보다 5살 어린 직원이 나보다 먼저 팀장으로 승진했다. 나는 회사 생활을 실패한 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'나보다 어린 직원이 먼저 승진했다'는 사실이지만, 이것을 '실패'라고 규정하는 것은 지위라는 가치에 집착한 해석입니다. 승진은 여러 요인의 결과일 뿐, 개인의 성공과 실패를 가르는 절대적인 기준이 아닙니다.`
    },
    {
        id: 12,
        text: `박 부장님은 강남에 있는 50평대 아파트에 산다고 한다. 그는 경제적으로 걱정 없는 성공한 인생을 살고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'50평대 아파트에 산다'는 사실일 수 있지만, '걱정 없는 성공한 인생'이라는 판단은 외부로 보이는 조건을 통해 내면을 추측하는 해석입니다. 실제로는 대출금 상환 부담이 크거나 다른 고민이 있을 수 있습니다.`
    },
    {
        id: 13,
        text: `나는 올해 연봉이 동결되었다. 회사는 나의 가치를 전혀 인정해주지 않고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'연봉이 동결되었다'는 사실이지만, '나의 가치를 전혀 인정하지 않는다'는 것은 돈이라는 잣대로 자신의 가치를 판단하는 해석입니다. 회사의 재정 상황 등 개인 외적인 요인이 더 크게 작용했을 수 있습니다.`
    },
    {
        id: 14,
        text: `이사님은 항상 수백만 원짜리 명품 시계를 차고 다닌다. 그는 높은 지위에 걸맞은 품격을 지닌 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'명품 시계를 찬다'는 사실이지만, 그것이 '품격'과 직결된다고 보는 것은 소유물과 인격을 동일시하는 해석입니다. 품격은 내면의 가치이며, 소유물로 판단할 수 없습니다.`
    },
    {
        id: 15,
        text: `프리랜서로 일하는 내 친구는 나보다 월 소득이 2배나 많다. 나는 안정적이지만 발전 없는 직장 생활을 하고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'친구의 소득이 2배 많다'는 사실일 수 있지만, 내 직장 생활을 '발전 없다'고 평가하는 것은 소득이라는 단일 잣대에 근거한 해석입니다. 안정성, 동료 관계, 개인의 성장 등 다른 중요한 가치들이 있을 수 있습니다.`
    },

    // --- 소통 및 대인 관계 ---
    {
        id: 16,
        text: `팀장님은 오늘 아침 내 인사를 못 들은 척 그냥 지나갔다. 어제 내가 보고한 내용에 분명히 불만이 있는 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'인사를 받지 않고 지나갔다'는 사실이지만, 그 이유를 '불만' 때문이라고 단정하는 것은 상대의 의도를 추측하는 해석입니다. 다른 깊은 생각에 잠겨 있었거나 단순히 못 들었을 가능성이 더 높습니다.`
    },
    {
        id: 17,
        text: `회의에서 내가 낸 의견에 대해 아무도 즉각적인 반응을 보이지 않았다. 내 아이디어는 들을 가치도 없는 것이었다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'아무도 즉각적인 반응을 보이지 않았다'는 사실이지만, '들을 가치가 없다'고 판단하는 것은 극단적인 해석입니다. 사람들은 아이디어를 이해하고 생각할 시간이 필요하거나, 다른 사람의 의견을 기다리고 있었을 수 있습니다.`
    },
    {
        id: 18,
        text: `동료가 내가 부탁한 자료를 주면서 "이거 찾느라 좀 바빴네요"라고 말했다. 그는 내 부탁을 매우 귀찮아하고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'"찾느라 바빴다"고 말했다'는 사실이지만, 그것을 '귀찮아한다'는 감정으로 해석하는 것은 섣부릅니다. 실제로 바빴다는 사실을 전달한 것일 뿐, 그 이상의 부정적인 의도는 없었을 수 있습니다.`
    },
    {
        id: 19,
        text: `옆자리 김 대리는 내가 말을 걸기 전까지 오늘 오전에만 3시간 동안 한 마디도 하지 않았다.`,
        correctAnswer: "O",
        explanation: `<strong>정답: O (사실)</strong><br/>'3시간 동안 말을 하지 않았다'는 것은 관찰과 계량이 가능한 객관적인 사실입니다. 그가 '화가 났거나', '나를 피한다'고 생각하는 순간부터 해석이 됩니다.`
    },
    {
        id: 20,
        text: `회식 자리에서 부장님이 내게는 술을 권하지 않고 다른 직원들에게만 따라주었다. 나는 부장님께 완전히 미운털이 박힌 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'내게 술을 권하지 않았다'는 사실일 수 있지만, '미운털이 박혔다'는 결론은 비약이 심한 해석입니다. 대화의 흐름상 타이밍을 놓쳤거나, 나의 건강을 배려했을 수도 있는 등 다른 가능성은 얼마든지 있습니다.`
    },
    {
        id: 21,
        text: `내가 야근하고 있을 때, 사장님이 내 어깨를 두드리며 "고생이 많네" 라고 말씀하셨다. 사장님은 나의 노력을 높이 평가하고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'"고생이 많네"라고 말했다'는 사실이지만, 그것이 '나의 노력을 높이 평가한다'는 의미라고 단정하는 것은 긍정적인 방향의 해석입니다. 의례적인 격려의 말일 수도 있습니다. 긍정적 해석 자체는 좋지만, 이것이 사실이라고 믿으면 나중에 상처받을 수 있습니다.`
    },
    {
        id: 22,
        text: `단체 카톡방에 올린 내 휴가 공지에 팀원 중 절반 이상이 아무런 반응을 보이지 않았다. 팀원들은 나의 휴가를 반기지 않는다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'절반 이상이 반응이 없었다'는 사실이지만, '휴가를 반기지 않는다'고 생각하는 것은 해석입니다. 대부분의 사람들은 업무 관련 공지에 일일이 반응해야 한다고 생각하지 않을 수 있습니다.`
    },
    {
        id: 23,
        text: `상사가 "이 대리는 참 꼼꼼해서 좋아" 라고 칭찬했다. 그는 나를 덜렁대는 사람이라고 생각하는 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'다른 동료를 칭찬했다'는 사실이지만, 그 말이 '나를 비판하는 것'이라는 생각은 과도한 연관 짓기이자 해석입니다. 다른 사람의 장점을 칭찬한 것일 뿐, 그 이상도 이하도 아닐 수 있습니다.`
    },
    {
        id: 24,
        text: `협력업체 미팅에서 담당자가 내내 팔짱을 끼고 나를 쳐다봤다. 그는 내 제안에 매우 비판적이고 방어적인 태도를 취하고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'팔짱을 끼고 쳐다봤다'는 사실이지만, 그것이 '비판적이고 방어적'이라는 내면 상태를 의미하지는 않습니다. 상대방의 말을 경청하거나 생각에 집중할 때 나오는 개인적인 습관일 수 있습니다.`
    },
    {
        id: 25,
        text: `프로젝트 회의 중, 한 동료가 "그건 현실적으로 불가능합니다"라며 내 의견에 강하게 반대했다. 그는 나를 깎아내려 자신의 입지를 세우려 한다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'의견에 반대했다'는 사실이지만, 그 의도를 '나를 깎아내리려는 것'으로 판단하는 것은 피해의식에서 비롯된 해석일 수 있습니다. 프로젝트를 성공시키려는 순수한 마음에 현실적인 리스크를 지적한 것일 수 있습니다.`
    },

    // --- 개인의 성향 및 행동 판단 ---
    {
        id: 26,
        text: `송 대리는 회식에 한 번도 빠진 적이 없다. 그는 사람들과 어울리는 것을 매우 좋아하는 외향적인 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'회식에 빠진 적이 없다'는 사실일 수 있지만, '외향적인 사람'이라고 성격을 단정하는 것은 해석입니다. 조직 생활에 잘 적응하기 위해 노력하는 것일 수도 있고, 단순히 술자리를 좋아하는 것일 수도 있습니다.`
    },
    {
        id: 27,
        text: `내 사수는 내가 질문할 때마다 마우스를 놓고 몸을 돌려 눈을 맞추며 설명해준다. 그는 매우 친절하고 배려심 깊은 성격이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'눈을 맞추며 설명한다'는 행동은 사실이지만, '매우 친절하고 배려심 깊은 성격'이라고 단정하는 것은 해석입니다. 그것이 그의 업무 방식이자 프로페셔널한 태도일 수 있습니다. 성격과 행동은 항상 일치하지 않습니다.`
    },
    {
        id: 28,
        text: `디자인팀 이 과장은 항상 화려한 색상의 옷을 입고 다닌다. 그는 다른 사람의 주목을 즐기는 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'화려한 옷을 입는다'는 것은 사실이지만, 그 이유를 '주목을 즐기기 때문'이라고 해석하는 것은 섣부릅니다. 개인의 미적 취향일 뿐, 타인의 시선을 의식하지 않는다는 반증일 수도 있습니다.`
    },
    {
        id: 29,
        text: `그는 사무실에서 늘 클래식 음악을 듣는다. 그는 교양 수준이 높은 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'클래식 음악을 듣는다'는 사실이지만, '교양 수준이 높다'는 평가는 고정관념에 기반한 해석입니다. 음악 취향과 교양 수준은 별개의 문제입니다.`
    },
    {
        id: 30,
        text: `신입사원은 회의 시간에 단 한 번도 질문이나 의견을 낸 적이 없다. 그는 업무에 대한 열정이 부족하다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'회의 때 발언한 적이 없다'는 사실이지만, '열정이 부족하다'고 판단하는 것은 해석입니다. 아직 업무 파악이 덜 되었거나, 분위기에 적응하는 중이거나, 성격이 신중한 것일 수 있습니다.`
    },
    {
        id: 31,
        text: `박 차장은 항상 퇴근 시간 10분 전에 미리 책상을 정리한다. 그는 일과 삶의 균형을 매우 중요하게 생각하는 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'퇴근 10분 전에 책상을 정리한다'는 행동은 사실이지만, '워라밸을 매우 중요하게 생각한다'는 가치관을 단정하는 것은 해석입니다. 정시 퇴근 후 다른 약속이 있거나, 정리하는 습관이 몸에 밴 것일 수 있습니다.`
    },
    {
        id: 32,
        text: `정 대리는 점심시간에 항상 혼자 샌드위치를 먹으며 책을 읽는다. 그는 사람들과 어울리는 것을 싫어하는 비사교적인 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'혼자 점심을 먹으며 책을 읽는다'는 사실이지만, '비사교적'이라고 성격을 규정하는 것은 해석입니다. 점심시간을 재충전이나 자기계발의 시간으로 활용하는 그만의 방식일 수 있습니다.`
    },
    {
        id: 33,
        text: `인사팀장은 회사 규정을 위반한 직원에 대해 예외 없이 징계를 내렸다. 그는 매우 냉정하고 원칙만 따지는 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'규정대로 징계를 내렸다'는 것은 사실이지만, '냉정하다'고 성격을 평가하는 것은 해석입니다. 조직의 공정성을 지켜야 하는 직책의무를 충실히 이행한 것일 수 있습니다.`
    },
    {
        id: 34,
        text: `그는 주말에 회사 등산 동호회 활동에 참여했다.`,
        correctAnswer: "O",
        explanation: `<strong>정답: O (사실)</strong><br/>'동호회 활동에 참여했다'는 것은 일어난 사건 그 자체를 설명하는 객관적인 사실입니다. 이 행동을 보고 '회사에 충성심이 높다'거나 '사람들과 어울리는 것을 좋아한다'고 생각하면 해석이 됩니다.`
    },
    {
        id: 35,
        text: `영업팀장은 실적이 부진한 팀원에게 "이래서 다음 달 월급 받겠어?"라고 말했다. 그는 인격적으로 미숙한 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'특정한 말을 했다'는 사실이지만, '인격적으로 미숙하다'는 평가는 나의 가치관에 기반한 해석입니다. 그의 발언 방식이 부적절하다고 느낄 수는 있지만, 그것이 그의 인격 전체를 규정하는 절대적인 척도는 아닙니다.`
    },

    // --- 업무량, 시간, 효율성 관련 ---
    {
        id: 36,
        text: `오늘 오후 3시에 예정되었던 회의가 1시간이나 지연되어 시작되었다. 우리 회사는 시간 관념이 희박하고 비효율적인 조직 문화를 가지고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'회의가 1시간 지연되었다'는 사실이지만, 이를 '비효율적인 조직 문화'로 확대하는 것은 해석입니다. 그날따라 긴급하고 중요한 다른 사안이 발생했을 수 있습니다. 한두 번의 사건으로 전체 문화를 판단할 수는 없습니다.`
    },
    {
        id: 37,
        text: `팀장님은 나에게 오늘 하루에만 5가지의 추가 업무를 지시했다. 이것은 나의 업무 처리 능력을 시험하려는 의도다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'5가지 추가 업무를 지시했다'는 사실이지만, '나를 시험하려는 의도'라고 판단하는 것은 해석입니다. 팀에 긴급한 일이 동시다발적으로 발생했을 뿐, 다른 의도는 없었을 가능성이 높습니다.`
    },
    {
        id: 38,
        text: `옆 팀은 항상 우리 팀보다 1시간 일찍 퇴근한다. 그들은 우리보다 업무 강도가 훨씬 낮은 편한 부서다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'1시간 일찍 퇴근한다'는 사실일 수 있지만, '업무 강도가 낮다'고 단정하는 것은 해석입니다. 그 팀의 업무 집중도가 매우 높거나, 업무 프로세스가 효율적으로 자동화되어 있을 수 있습니다.`
    },
    {
        id: 39,
        text: `내가 보낸 업무 메일에 상사는 3일이 지나서야 답장을 보냈다. 내 업무는 중요도 순위에서 완전히 밀려나 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'3일 만에 답장을 받았다'는 사실이지만, '내 업무가 중요도에서 밀려났다'고 결론 내리는 것은 해석입니다. 상사가 출장이었거나, 더 복잡하고 중요한 다른 일들을 먼저 처리해야 했을 수 있습니다.`
    },
    {
        id: 40,
        text: `이 프로젝트는 예상보다 3개월이나 더 소요되었다. 이 프로젝트는 실패한 것이나 다름없다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'예상보다 3개월 더 소요되었다'는 사실이지만, '실패한 것'이라는 평가는 해석입니다. 기간은 초과했지만 최종 결과물의 품질이 매우 뛰어나거나 시장 반응이 좋다면, 성공적인 프로젝트로 평가될 수도 있습니다. '성공'과 '실패'는 여러 잣대로 평가됩니다.`
    },

    // --- 복합적이고 미묘한 상황 ---
    {
        id: 41,
        text: `회사 익명 게시판에 '일부 부서의 잦은 야근은 비효율의 증거'라는 글이 올라왔다. 이것은 매일 야근하는 우리 팀을 저격하는 글이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'게시판에 특정 글이 올라왔다'는 사실이지만, '우리 팀을 저격하는 글'이라고 여기는 것은 과도한 자기 관련짓기(Personalization) 오류입니다. 회사 전체의 문제에 대한 원론적인 비판일 수 있습니다.`
    },
    {
        id: 42,
        text: `사장님이 임원 회의에서 "신사업에 대해서는 젊은 직원들의 의견을 많이 들어봅시다"라고 말했다. 기존 직원들의 아이디어는 낡았다고 생각하시는 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'젊은 직원 의견을 듣자'고 말한 것은 사실이지만, 그 이면에 '기존 직원 아이디어는 낡았다'는 의도가 있다고 보는 것은 해석입니다. 새로운 시각을 추가로 얻자는 취지의 발언일 수 있습니다.`
    },
    {
        id: 43,
        text: `고객사 담당자가 미팅 내내 내 눈을 거의 쳐다보지 않고 서류만 검토했다. 그는 나라는 사람 자체를 신뢰하지 못하고 있다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'눈을 쳐다보지 않고 서류만 봤다'는 사실이지만, '나를 신뢰하지 못한다'고 판단하는 것은 해석입니다. 내용에 집중하기 위해 서류를 꼼꼼히 보는 성향이거나, 원래 시선을 잘 맞추지 못하는 사람일 수 있습니다.`
    },
    {
        id: 44,
        text: `중요한 결정을 앞두고 팀장님이 나에게는 의견을 묻지 않고, 입사 1년차 후배에게 "어떻게 생각해요?"라고 물었다. 나는 이 팀에서 더 이상 핵심 인력이 아니다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'후배에게 먼저 의견을 물었다'는 사실이지만, '나는 핵심 인력이 아니다'라는 결론은 비약입니다. 후배에게 자신감을 주거나, 새로운 시각의 의견을 듣고 싶었을 수 있습니다.`
    },
    {
        id: 45,
        text: `내가 실수한 부분에 대해 상사가 아무런 질책 없이 "이 부분은 이렇게 수정하면 됩니다"라고 조용히 알려주었다. 그는 나에 대한 기대를 완전히 접은 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'질책 없이 수정 방법을 알려주었다'는 사실이지만, '기대를 접었다'고 생각하는 것은 부정적인 해석입니다. 감정적인 질책보다 문제 해결에 집중하는 성숙한 피드백 방식일 수 있습니다.`
    },
    {
        id: 46,
        text: `경쟁사로 이직한 동료가 SNS에 해외여행 사진을 자주 올린다. 그는 나보다 훨씬 나은 선택을 한 것이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'SNS에 여행 사진을 올린다'는 사실이지만, '더 나은 선택'이라는 평가는 타인의 행복을 외부로 보이는 단편적인 모습만으로 판단하는 해석입니다. SNS는 삶의 가장 좋은 순간만을 보여주는 경향이 있습니다.`
    },
    {
        id: 47,
        text: `옆자리 동료의 컴퓨터 모니터에는 항상 주식 시세창이 켜져 있다. 그는 업무에 집중하지 않고 딴짓을 많이 하는 직원이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'주식 시세창이 켜져 있다'는 사실이지만, '업무에 집중하지 않는다'고 단정하는 것은 해석입니다. 경제 동향 파악이 업무와 관련 있거나, 잠깐의 휴식 시간에 활용하는 것일 수 있습니다.`
    },
    {
        id: 48,
        text: `팀장님은 회의 때마다 "제가 예전에 왕년에 말이죠..."라며 과거의 성공담을 길게 이야기한다. 그는 권위적이고 현재의 트렌드를 따라가지 못하는 사람이다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'과거 성공담을 이야기한다'는 사실이지만, '권위적이고 트렌드를 못 따라간다'고 인물 전체를 평가하는 것은 해석입니다. 자신의 경험을 공유하여 팀원들에게 도움을 주려는 의도일 수 있습니다.`
    },
    {
        id: 49,
        text: `회사에서 진행한 직무 만족도 조사에서, 우리 부서의 점수가 전사 평균보다 20점 낮게 나왔다.`,
        correctAnswer: "O",
        explanation: `<strong>정답: O (사실)</strong><br/>'만족도 점수가 평균보다 20점 낮다'는 것은 조사 결과로 나온 객관적인 데이터입니다. 이 사실을 바탕으로 '우리 부서는 최악의 부서다' 또는 '팀장에게 문제가 있다'고 판단한다면 그것은 해석입니다.`
    },
    {
        id: 50,
        text: `최근 회사 사정이 어렵다는 이유로 복지 포인트가 절반으로 줄었다. 우리 회사는 비전이 없고 곧 망할지도 모른다.`,
        correctAnswer: "X",
        explanation: `<strong>정답: X (해석)</strong><br/>'복지 포인트가 줄었다'는 사실이지만, '비전이 없고 망할지도 모른다'는 것은 최악의 상황을 가정한 비약적인 해석입니다. 위기 극복을 위한 일시적인 긴축 정책일 수 있습니다.`
    }   ];



    let questionsData = [];
    const questionsPerTest = 20; // 한 번 테스트 시 보여줄 질문 수
    let currentStepIndex = 0; 

    const elements = {
        pageHeader: document.getElementById('pageHeader'),
        stickyStepsIndicatorWrapper: document.getElementById('stickyStepsIndicatorWrapper'),
        stepIndicators: document.querySelectorAll('.steps-indicator .step'),
        introCard: document.getElementById('intro-card'),
        questionCard: document.getElementById('question-card'),
        questionArea: document.getElementById('question-area'),
        resultCardOverall: document.getElementById('result-card-overall'),
        startBtn: document.getElementById('start-btn'),
        navigationButtonsContainer: document.getElementById('navigation-buttons-container'),
        prevBtn: document.getElementById('prev-btn'),
        nextBtn: document.getElementById('next-btn'),
        progressBar: document.getElementById('progress-bar'),
        progressText: document.getElementById('progress-text'),
        progressContainer: document.getElementById('progress-container'),
        resultContainer: document.getElementById('result-container'),
        restartBtn: document.getElementById('restart-btn'),
        learnMoreBtn: document.getElementById('learn-more-btn'),
        modalOverlay: document.getElementById('modal-overlay'),
        modalClose: document.getElementById('modal-close'),
        toastNotification: document.getElementById('toast-notification'),
        copyLinkBtn: document.getElementById('copy-link-btn'),
        resultGood: document.getElementById('result-good'),
        resultModerate: document.getElementById('result-moderate'),
        resultDanger: document.getElementById('result-danger'),
        goodPercentage: document.getElementById('good-percentage'),
        moderatePercentage: document.getElementById('moderate-percentage'),
        dangerPercentage: document.getElementById('danger-percentage'),
        goodScoreText: document.getElementById('good-score-text'),
        moderateScoreText: document.getElementById('moderate-score-text'),
        dangerScoreText: document.getElementById('danger-score-text'),
        resultItemsContainer: document.getElementById('result-items-container'),
        reflectionInput: document.getElementById('reflection-input')
    };

    let currentQuestionIndex = 0;
    let userAnswers = {}; 
    let scrollTimeout;
    let previousActiveElement = null;
    let transitionDurationValue = 0.25; 

    function init() {
        const rootStyle = getComputedStyle(document.documentElement);
        transitionDurationValue = parseFloat(rootStyle.getPropertyValue('--transition-duration')) || 0.25;

        bindEventListeners();
        updateStepIndicatorUI(0);
        gsap.fromTo(elements.introCard, { opacity: 0, y: 30 }, { opacity: 1, y: 0, duration: 0.6, ease: "power2.out", delay: 0.2 });
        window.addEventListener('scroll', handleScrollThrottled);
        handleScroll();
    }

    function handleScrollThrottled() {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(handleScroll, 50);
    }

    function handleScroll() {
        if (!elements.stickyStepsIndicatorWrapper || !elements.pageHeader) return;
        const scrollThreshold = elements.pageHeader.offsetHeight;
        const currentScrollY = window.pageYOffset;

        if (currentScrollY > scrollThreshold && elements.stickyStepsIndicatorWrapper.classList.contains('visible')) {
            if (!document.body.classList.contains('fixed-header-active')) {
                 document.body.classList.add('fixed-header-active');
            }
        } else {
            if (document.body.classList.contains('fixed-header-active')) {
                document.body.classList.remove('fixed-header-active');
            }
        }
    }

    function updateStepIndicatorUI(activeIndex) {
        currentStepIndex = activeIndex;
        elements.stepIndicators.forEach((stepEl, i) => {
            stepEl.classList.remove('active', 'completed');
            if (i < activeIndex) {
                stepEl.classList.add('completed');
            } else if (i === activeIndex) {
                stepEl.classList.add('active');
            }
        });
        if (activeIndex > 0) {
            elements.stickyStepsIndicatorWrapper.classList.add('visible');
        } else {
            elements.stickyStepsIndicatorWrapper.classList.remove('visible');
            document.body.classList.remove('fixed-header-active');
        }
        handleScroll();
    }

    function bindEventListeners() {
        elements.startBtn.addEventListener('click', startTest);
        elements.prevBtn.addEventListener('click', showPrevQuestion);
        elements.nextBtn.addEventListener('click', handleNextButtonClick);
        elements.restartBtn.addEventListener('click', () => {
            gsap.to([elements.resultCardOverall, elements.introCard, elements.questionCard, elements.progressContainer, elements.navigationButtonsContainer], {
                opacity: 0, y: 20, duration: 0.3, ease: "power1.in",
                onComplete: () => location.reload() 
            });
        });
        elements.learnMoreBtn.addEventListener('click', showModal);
        elements.modalClose.addEventListener('click', hideModal);
        elements.modalOverlay.addEventListener('click', (e) => { if (e.target === elements.modalOverlay) hideModal(); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && elements.modalOverlay.classList.contains('is-active')) hideModal(); });
        elements.copyLinkBtn.addEventListener('click', copyShareLink);
    }

    function startTest() {
        const shuffledAll = [...allQuestionsData].sort(() => 0.5 - Math.random());
        questionsData = shuffledAll.slice(0, questionsPerTest); // 전체 풀에서 20개만 선택

        currentQuestionIndex = 0;
        userAnswers = {};

        gsap.to(elements.introCard, {
            opacity: 0, y: -20, duration: 0.4, ease: "power1.in",
            onComplete: () => {
                elements.introCard.style.display = 'none';
                elements.introCard.classList.remove('visible');
                elements.questionCard.style.display = 'block';
                elements.progressContainer.style.display = 'block';
                elements.navigationButtonsContainer.style.display = 'flex';
                gsap.fromTo([elements.questionCard, elements.progressContainer, elements.navigationButtonsContainer],
                    { opacity: 0, y: 20 },
                    { opacity: 1, y: 0, duration: 0.5, ease: "power2.out", stagger: 0.1 }
                );
                renderQuestion(currentQuestionIndex);
                updateProgress();
                updateStepIndicatorUI(1);
            }
        });
    }

    function renderQuestion(index) {
        const questionData = questionsData[index];
        elements.questionArea.innerHTML = `
            <div class="mol-question-item is-active" id="q-idx-${index}">
                <div class="mol-question-item__header">
                    <div class="atm-question-number">${index + 1}</div>
                    <h3 class="mol-question-item__title">${questionData.text}</h3>
                </div>
                <p>이 문장은 <strong><i class="fas fa-video"></i> CCTV에 찍힐 '사실'</strong>일까요, 아니면 <strong><i class="fas fa-brain"></i> 내 머릿속 '생각(해석)'</strong>일까요?</p>
                <div class="mol-option-group">
                    <div class="mol-option-group__item">
                        <input id="q-idx-${index}-o" name="q-idx-${index}" type="radio" value="O" ${userAnswers[questionData.id] === 'O' ? 'checked' : ''}/>
                        <label class="atm-option-label" for="q-idx-${index}-o">
                            <span class="atm-option-emoji">📹</span>
                            <span class="atm-option-label__description">사실이다!</span>
                        </label>
                    </div>
                    <div class="mol-option-group__item">
                        <input id="q-idx-${index}-x" name="q-idx-${index}" type="radio" value="X" ${userAnswers[questionData.id] === 'X' ? 'checked' : ''}/>
                        <label class="atm-option-label" for="q-idx-${index}-x">
                            <span class="atm-option-emoji">🧠</span>
                            <span class="atm-option-label__description">나의 해석이다!</span>
                        </label>
                    </div>
                </div>
            </div>`;

        const questionItem = elements.questionArea.querySelector('.mol-question-item');
        if (questionItem) {
             gsap.set(questionItem, { opacity: 0, y: 20 });
             gsap.to(questionItem, { opacity: 1, y: 0, duration: 0.4, ease: "power2.out" });
        }

        document.querySelectorAll(`input[name="q-idx-${index}"]`).forEach(radio => {
            radio.addEventListener('change', handleAnswerSelection);
        });
        updateNavigationButtons();
        if (elements.questionCard.offsetParent !== null) { 
            elements.questionCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    function handleAnswerSelection(event) {
        const questionId = questionsData[currentQuestionIndex].id;
        userAnswers[questionId] = event.target.value;
        updateNavigationButtons();

        if ((currentQuestionIndex + 1) % 5 === 0 && currentQuestionIndex < questionsData.length -1) {
            const encouragements = ["잘하고 있어요!", "거의 다 왔어요!", "정답에 가까워지고 있어요!", "훌륭해요!"];
            showToast(encouragements[Math.floor(Math.random() * encouragements.length)], false, 'is-success');
        }

        setTimeout(() => {
            if (userAnswers[questionsData[currentQuestionIndex].id]) {
                 if (currentQuestionIndex < questionsData.length - 1) {
                    gsap.to(elements.questionArea.querySelector('.mol-question-item'), {
                        opacity: 0, y: -10, duration: 0.3, ease: "power1.in",
                        onComplete: () => {
                            currentQuestionIndex++;
                            renderQuestion(currentQuestionIndex);
                            updateProgress();
                        }
                    });
                } else {
                    updateNavigationButtons();
                }
            }
        }, 300); 
    }

    function handleNextButtonClick() {
        const isLastQuestion = currentQuestionIndex === questionsData.length - 1;
        if (isLastQuestion) {
            const currentQuestionId = questionsData[currentQuestionIndex].id;
            if (userAnswers[currentQuestionId]) {
                displayResults();
            } else {
                showToast('마지막 질문에 답변해주세요!', true);
            }
        }
    }

    function updateProgress() {
        const percentage = ((currentQuestionIndex + 1) / questionsData.length) * 100;
        elements.progressBar.style.width = percentage + '%';
        elements.progressText.textContent = `${currentQuestionIndex + 1}/${questionsData.length}`;
        elements.progressText.setAttribute('aria-valuenow', currentQuestionIndex + 1);
        elements.progressText.setAttribute('aria-valuemax', questionsData.length);
    }

    function updateNavigationButtons() {
        const isFirstQuestion = currentQuestionIndex === 0;
        const isLastQuestion = currentQuestionIndex === questionsData.length - 1;

        elements.prevBtn.disabled = isFirstQuestion;
        elements.prevBtn.style.display = isFirstQuestion ? 'none' : 'inline-flex';

        const currentQuestionId = questionsData[currentQuestionIndex].id;
        const isAnswerSelected = !!userAnswers[currentQuestionId];

        if (isLastQuestion) {
            elements.nextBtn.innerHTML = '결과 보기 <i class="fas fa-check-circle icon icon-after"></i>'; 
            elements.nextBtn.style.display = 'inline-flex';
            elements.nextBtn.disabled = !isAnswerSelected;
        } else {
            elements.nextBtn.innerHTML = '다음 <i class="fas fa-arrow-right icon icon-after"></i>';
            elements.nextBtn.style.display = 'none'; 
            elements.nextBtn.disabled = true;
        }
        elements.nextBtn.classList.toggle('is-disabled', elements.nextBtn.disabled);

        const navContainer = elements.navigationButtonsContainer;
        navContainer.classList.remove('justify-start', 'justify-end', 'justify-center', 'justify-between');

        const prevVisible = elements.prevBtn.style.display !== 'none';
        const nextVisible = elements.nextBtn.style.display !== 'none';

        if (prevVisible && nextVisible) { navContainer.classList.add('justify-between'); }
        else if (prevVisible && !nextVisible) { navContainer.classList.add('justify-start'); }
        else if (!prevVisible && nextVisible) { navContainer.classList.add('justify-end'); }
        else { navContainer.classList.add('justify-center'); } 
    }

    function showPrevQuestion() {
        if (currentQuestionIndex > 0) {
            gsap.to(elements.questionArea.querySelector('.mol-question-item'), {
                opacity: 0, y: 10, duration: 0.3, ease: "power1.in",
                onComplete: () => {
                    currentQuestionIndex--;
                    renderQuestion(currentQuestionIndex);
                    updateProgress();
                }
            });
        }
    }

    function displayResults() {
        let correctCount = 0;
        questionsData.forEach(q => {
            if (userAnswers[q.id] === q.correctAnswer) {
                correctCount++;
            }
        });

        gsap.to([elements.questionCard, elements.progressContainer, elements.navigationButtonsContainer], {
            opacity: 0, y: -20, duration: 0.4, ease: "power1.in", stagger: 0.1,
            onComplete: () => {
                elements.questionCard.style.display = 'none';
                elements.progressContainer.style.display = 'none';
                elements.navigationButtonsContainer.style.display = 'none';

                elements.resultCardOverall.style.display = 'block';
                elements.resultCardOverall.classList.add('visible');
                elements.resultContainer.style.display = 'block';

                gsap.fromTo(elements.resultCardOverall,
                    { opacity: 0, y: 20 },
                    { opacity: 1, y: 0, duration: 0.6, ease: "power2.out" }
                );

                elements.resultGood.style.display = 'none';
                elements.resultModerate.style.display = 'none';
                elements.resultDanger.style.display = 'none';

                const scorePercentage = Math.round((correctCount / questionsData.length) * 100);
                const scoreText = `정답: ${correctCount} / ${questionsData.length}개`;

                let resultSummaryElement;
                if (scorePercentage >= 75) {
                    resultSummaryElement = elements.resultGood;
                    elements.goodPercentage.textContent = `${scorePercentage}%`;
                    elements.goodScoreText.textContent = scoreText;
                } else if (scorePercentage >= 50) {
                    resultSummaryElement = elements.resultModerate;
                    elements.moderatePercentage.textContent = `${scorePercentage}%`;
                    elements.moderateScoreText.textContent = scoreText;
                } else {
                    resultSummaryElement = elements.resultDanger;
                    elements.dangerPercentage.textContent = `${scorePercentage}%`;
                    elements.dangerScoreText.textContent = scoreText;
                }
                resultSummaryElement.style.display = 'block';
                gsap.fromTo(resultSummaryElement, { opacity: 0, scale: 0.9 }, { opacity: 1, scale: 1, duration: 0.5, ease: "back.out(1.7)", delay: 0.3 });

                generateResultItems();
                elements.reflectionInput.value = ''; 
                const headerHeight = elements.stickyStepsIndicatorWrapper.offsetHeight || 0;
                const scrollToPosition = elements.resultCardOverall.offsetTop - headerHeight - 20; 
                window.scrollTo({ top: scrollToPosition, behavior: 'smooth' });
                updateStepIndicatorUI(2);
            }
        });
    }

    function generateResultItems() {
        elements.resultItemsContainer.innerHTML = '';
        questionsData.forEach((qData, index) => {
            const userAnswer = userAnswers[qData.id];
            const isCorrect = userAnswer === qData.correctAnswer;
            const resultItemDiv = document.createElement('div');
            resultItemDiv.className = 'org-result-details__item';
            resultItemDiv.innerHTML = `
                <div class="org-result-details__title">${index + 1}. ${qData.text}</div>
                <div class="org-result-details__answer-row">
                    <div class="atm-answer-info">나의 선택: <strong>${userAnswer ? (userAnswer === 'O' ? '사실' : '해석') : '미응답'}</strong></div>
                    <div class="atm-answer-info">정답: ${qData.correctAnswer === 'O' ? '사실' : '해석'}</div>
                    <span class="atm-answer-badge ${isCorrect ? 'atm-answer-badge--correct' : 'atm-answer-badge--incorrect'}">
                        ${isCorrect ? '정답 <i class="fas fa-check-circle"></i>' : '오답 <i class="fas fa-times-circle"></i>'}
                    </span>
                </div>
                <div class="org-result-details__explanation">${qData.explanation}</div>
            `;
            elements.resultItemsContainer.appendChild(resultItemDiv);
            gsap.fromTo(resultItemDiv, { opacity: 0, x: -20 }, { opacity: 1, x: 0, duration: 0.4, ease: "power2.out", delay: index * 0.05 + 0.5 });
        });
    }

    function showModal() {
        previousActiveElement = document.activeElement;
        elements.modalOverlay.style.display = 'flex';
        gsap.to(elements.modalOverlay, { opacity: 1, duration: transitionDurationValue });
        gsap.to(elements.modalOverlay.querySelector('.mol-modal-container'), {
            opacity: 1, scale: 1, y: 0, duration: transitionDurationValue, ease: "power2.out"
        });
        elements.modalOverlay.classList.add('is-active');
        document.body.style.overflow = 'hidden'; 
        elements.modalOverlay.querySelector('.atm-modal-close-button').focus(); 

        if (window.innerWidth <= 768 && elements.navigationButtonsContainer.style.position === 'fixed') {
            elements.navigationButtonsContainer.style.display = 'none';
        }
    }

    function hideModal() {
        gsap.to(elements.modalOverlay.querySelector('.mol-modal-container'), {
            opacity: 0, scale: 0.95, y: -20, duration: transitionDurationValue, ease: "power1.in"
        });
        gsap.to(elements.modalOverlay, {
            opacity: 0, duration: transitionDurationValue,
            onComplete: () => {
                elements.modalOverlay.style.display = 'none';
                elements.modalOverlay.classList.remove('is-active');
                if (previousActiveElement) previousActiveElement.focus(); 
            }
        });
        document.body.style.overflow = ''; 

        if (window.innerWidth <= 768 && elements.questionCard.style.display === 'block' && elements.navigationButtonsContainer.style.position === 'fixed') {
             elements.navigationButtonsContainer.style.display = 'flex';
        }
    }

    let toastTimer;
    function showToast(message, isError = false, typeClass = '') {
        clearTimeout(toastTimer);
        elements.toastNotification.textContent = message;
        elements.toastNotification.className = 'atm-toast-notification'; 
        elements.toastNotification.style.backgroundColor = ''; 

        if (isError) {
            elements.toastNotification.classList.add('is-error');
        } else if (typeClass) {
            elements.toastNotification.classList.add(typeClass);
        }
        elements.toastNotification.classList.add('is-active');

        toastTimer = setTimeout(() => {
            elements.toastNotification.classList.remove('is-active');
        }, 3000);
    }

   


    function copyShareLink() {
        const tempTextArea = document.createElement('textarea');
        tempTextArea.value = window.location.href; 
        document.body.appendChild(tempTextArea);
        tempTextArea.select();
        try {
            document.execCommand('copy'); 
            showToast('🔗 테스트 링크가 복사되었어요! 동료들과 함께 해보세요.', false, 'is-success');
        } catch (err) {
            console.error('Link copy failed:', err);
            showToast('⚠️ 링크 복사에 실패했어요. 직접 복사해주세요.', true);
        }
        document.body.removeChild(tempTextArea);
    }

    init(); 
});
</script>
</body>
</html>
